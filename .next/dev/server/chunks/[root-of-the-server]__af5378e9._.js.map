{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/fateless/Documents/Projects/autonome2/src/lib/modelConfig.ts"],"sourcesContent":["// Model configuration for display\r\nexport const MODEL_INFO: Record<\r\n  string,\r\n  { logo: string; color: string; label: string }\r\n> = {\r\n  // \"deepseek-r1t2\": {\r\n  //   logo: \"https://nof1.ai/logos_white/deepseek_logo.png\",\r\n  //   color: \"#4D6BFE\",\r\n  //   label: \"DeepSeek R1T2\",\r\n  // },  \r\n  \"deepseek-v3.1-terminus\": {\r\n    logo: \"https://nof1.ai/logos_white/deepseek_logo.png\",\r\n    color: \"#4D6BFE\",\r\n    label: \"DeepSeek V3.1 Terminus\",\r\n  },\r\n  \"claude-sonnet-4.5\": {\r\n    logo: \"https://nof1.ai/logos_white/Claude_logo.png\",\r\n    color: \"#FF6B35\",\r\n    label: \"Claude Sonnet 4.5\",\r\n  },\r\n  \"grok-4\": {\r\n    logo: \"https://nof1.ai/logos_white/Grok_logo.webp\",\r\n    color: \"#000000\",\r\n    label: \"Grok 4\",\r\n  },\r\n  \"qwen3-max\": {\r\n    logo: \"https://nof1.ai/logos_white/qwen_logo.png\",\r\n    color: \"#8B5CF6\",\r\n    label: \"Qwen3 Max\",\r\n  },\r\n  \"glm-4.5-air\": {\r\n    logo: \"/glm.svg\",\r\n    color: \"#343333\",\r\n    label: \"GLM 4.5 Air\",\r\n  },\r\n  \"minimax-m2\": {\r\n    logo: \"/minimax.png\",\r\n    color: \"#E62176\",\r\n    label: \"Minimax M2\",\r\n  },\r\n  \"buynnhold-btc\": {\r\n    logo: \"\",\r\n    color: \"#F7931A\",\r\n    label: \"Buy & Hold BTC\",\r\n  },\r\n};\r\n\r\nconst deriveModelCandidates = (rawName: string): string[] => {\r\n  const trimmed = (rawName ?? \"\").trim();\r\n  if (!trimmed) {\r\n    return [];\r\n  }\r\n\r\n  const candidates = new Set<string>();\r\n  const add = (value: string | undefined | null) => {\r\n    if (!value) return;\r\n    const candidate = value.trim();\r\n    if (candidate) {\r\n      candidates.add(candidate);\r\n      candidates.add(candidate.toLowerCase());\r\n    }\r\n  };\r\n\r\n  add(trimmed);\r\n\r\n  const afterSlash = trimmed.includes(\"/\") ? trimmed.split(\"/\").pop() ?? trimmed : trimmed;\r\n  add(afterSlash);\r\n\r\n  const beforeColon = trimmed.includes(\":\") ? trimmed.split(\":\")[0] : trimmed;\r\n  add(beforeColon);\r\n\r\n  const afterSlashBeforeColon = afterSlash.includes(\":\") ? afterSlash.split(\":\")[0] : afterSlash;\r\n  add(afterSlashBeforeColon);\r\n\r\n  const expanded = Array.from(candidates);\r\n  for (const candidate of expanded) {\r\n    const normalized = candidate\r\n      .toLowerCase()\r\n      .replace(/[\\s_.]+/g, \"-\")\r\n      .replace(/[/:]+/g, \"-\")\r\n      .replace(/[^a-z0-9-]/g, \"-\")\r\n      .replace(/-+/g, \"-\")\r\n      .replace(/^-|-$/g, \"\");\r\n    if (normalized) {\r\n      candidates.add(normalized);\r\n    }\r\n  }\r\n\r\n  return Array.from(candidates).filter(Boolean);\r\n};\r\n\r\n// Get model info with fallback for unknown models\r\nexport function getModelInfo(modelName: string): {\r\n  logo: string;\r\n  color: string;\r\n  label: string;\r\n} {\r\n  const candidates = deriveModelCandidates(modelName);\r\n  for (const candidate of candidates) {\r\n    if (MODEL_INFO[candidate]) {\r\n      return MODEL_INFO[candidate];\r\n    }\r\n  }\r\n\r\n  return {\r\n    logo: \"\",\r\n    color: \"#888888\",\r\n    label: modelName,\r\n  };\r\n}\r\n"],"names":[],"mappings":"AAAA,kCAAkC;;;;;;;AAC3B,MAAM,aAGT;IACF,qBAAqB;IACrB,2DAA2D;IAC3D,sBAAsB;IACtB,4BAA4B;IAC5B,OAAO;IACP,0BAA0B;QACxB,MAAM;QACN,OAAO;QACP,OAAO;IACT;IACA,qBAAqB;QACnB,MAAM;QACN,OAAO;QACP,OAAO;IACT;IACA,UAAU;QACR,MAAM;QACN,OAAO;QACP,OAAO;IACT;IACA,aAAa;QACX,MAAM;QACN,OAAO;QACP,OAAO;IACT;IACA,eAAe;QACb,MAAM;QACN,OAAO;QACP,OAAO;IACT;IACA,cAAc;QACZ,MAAM;QACN,OAAO;QACP,OAAO;IACT;IACA,iBAAiB;QACf,MAAM;QACN,OAAO;QACP,OAAO;IACT;AACF;AAEA,MAAM,wBAAwB,CAAC;IAC7B,MAAM,UAAU,CAAC,WAAW,EAAE,EAAE,IAAI;IACpC,IAAI,CAAC,SAAS;QACZ,OAAO,EAAE;IACX;IAEA,MAAM,aAAa,IAAI;IACvB,MAAM,MAAM,CAAC;QACX,IAAI,CAAC,OAAO;QACZ,MAAM,YAAY,MAAM,IAAI;QAC5B,IAAI,WAAW;YACb,WAAW,GAAG,CAAC;YACf,WAAW,GAAG,CAAC,UAAU,WAAW;QACtC;IACF;IAEA,IAAI;IAEJ,MAAM,aAAa,QAAQ,QAAQ,CAAC,OAAO,QAAQ,KAAK,CAAC,KAAK,GAAG,MAAM,UAAU;IACjF,IAAI;IAEJ,MAAM,cAAc,QAAQ,QAAQ,CAAC,OAAO,QAAQ,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG;IACpE,IAAI;IAEJ,MAAM,wBAAwB,WAAW,QAAQ,CAAC,OAAO,WAAW,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG;IACpF,IAAI;IAEJ,MAAM,WAAW,MAAM,IAAI,CAAC;IAC5B,KAAK,MAAM,aAAa,SAAU;QAChC,MAAM,aAAa,UAChB,WAAW,GACX,OAAO,CAAC,YAAY,KACpB,OAAO,CAAC,UAAU,KAClB,OAAO,CAAC,eAAe,KACvB,OAAO,CAAC,OAAO,KACf,OAAO,CAAC,UAAU;QACrB,IAAI,YAAY;YACd,WAAW,GAAG,CAAC;QACjB;IACF;IAEA,OAAO,MAAM,IAAI,CAAC,YAAY,MAAM,CAAC;AACvC;AAGO,SAAS,aAAa,SAAiB;IAK5C,MAAM,aAAa,sBAAsB;IACzC,KAAK,MAAM,aAAa,WAAY;QAClC,IAAI,UAAU,CAAC,UAAU,EAAE;YACzB,OAAO,UAAU,CAAC,UAAU;QAC9B;IACF;IAEA,OAAO;QACL,MAAM;QACN,OAAO;QACP,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 166, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/fateless/Documents/Projects/autonome2/src/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\r\n\r\nconst globalForPrisma = globalThis as unknown as {\r\n  prisma?: PrismaClient;\r\n};\r\n\r\nexport const db = globalForPrisma.prisma ?? new PrismaClient();\r\n\r\nif (process.env.NODE_ENV !== \"production\") {\r\n  globalForPrisma.prisma = db;\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,kBAAkB;AAIjB,MAAM,KAAK,gBAAgB,MAAM,IAAI,IAAI,6IAAY;AAE5D,wCAA2C;IACzC,gBAAgB,MAAM,GAAG;AAC3B","debugId":null}},
    {"offset": {"line": 181, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/fateless/Documents/Projects/autonome2/src/lib/cache/tags.ts"],"sourcesContent":["import { revalidateTag } from \"next/cache\";\r\n\r\nexport const DATA_CACHE_TAGS = {\r\n  MODELS: \"models\",\r\n  INVOCATIONS: \"invocations\",\r\n  POSITIONS: \"positions\",\r\n  TRADES: \"trades\",\r\n  PORTFOLIO_HISTORY: \"portfolio-history\",\r\n  CRYPTO_PRICES: \"crypto-prices\",\r\n} as const;\r\n\r\nexport type DataCacheTag = (typeof DATA_CACHE_TAGS)[keyof typeof DATA_CACHE_TAGS];\r\n\r\nexport async function revalidateDataTags(...tags: DataCacheTag[]) {\r\n  const unique = Array.from(new Set(tags));\r\n  if (unique.length === 0) {\r\n    return;\r\n  }\r\n\r\n  for (const tag of unique) {\r\n    await revalidateTag(tag, \"max\");\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAEO,MAAM,kBAAkB;IAC7B,QAAQ;IACR,aAAa;IACb,WAAW;IACX,QAAQ;IACR,mBAAmB;IACnB,eAAe;AACjB;AAIO,eAAe,mBAAmB,GAAG,IAAoB;IAC9D,MAAM,SAAS,MAAM,IAAI,CAAC,IAAI,IAAI;IAClC,IAAI,OAAO,MAAM,KAAK,GAAG;QACvB;IACF;IAEA,KAAK,MAAM,OAAO,OAAQ;QACxB,MAAM,IAAA,gJAAa,EAAC,KAAK;IAC3B;AACF","debugId":null}},
    {"offset": {"line": 210, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/fateless/Documents/Projects/autonome2/src/app/api/models/route.ts"],"sourcesContent":["import { cacheLife, cacheTag } from \"next/cache\";\r\nimport { NextResponse } from \"next/server\";\r\nimport { MODEL_INFO } from \"@/lib/modelConfig\";\r\nimport { db } from \"@/lib/prisma\";\r\nimport { DATA_CACHE_TAGS } from \"@/lib/cache/tags\";\r\n\r\nasync function loadModels() {\r\n  'use cache';\r\n  cacheTag(DATA_CACHE_TAGS.MODELS);\r\n  cacheLife(\"hours\");\r\n\r\n  const models = await db.models.findMany({\r\n    select: { id: true, name: true },\r\n    orderBy: { name: \"asc\" },\r\n  });\r\n\r\n  return models.map((model) => ({\r\n    id: model.id,\r\n    name: model.name,\r\n  }));\r\n}\r\n\r\nexport async function GET() {\r\n  try {\r\n    const models = await loadModels();\r\n    return NextResponse.json({ models });\r\n  } catch (error) {\r\n    console.error(\"Failed to fetch models\", error);\r\n    // Fallback: return built-in models so the UI can still render when DB is down\r\n    const fallback = Object.entries(MODEL_INFO).map(([id, info]) => ({\r\n      id,\r\n      name: info.label || id,\r\n    }));\r\n    return NextResponse.json(\r\n      { models: fallback, warning: \"Prisma unavailable\" },\r\n      { status: 200 },\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;;IAEA,+SAAA,eAAe;IAEb,IAAA,2IAAQ,EAAC,gJAAe,CAAC,MAAM;IAC/B,IAAA,4IAAS,EAAC;IAEV,MAAM,SAAS,MAAM,4HAAE,CAAC,MAAM,CAAC,QAAQ,CAAC;QACtC,QAAQ;YAAE,IAAI;YAAM,MAAM;QAAK;QAC/B,SAAS;YAAE,MAAM;QAAM;IACzB;IAEA,OAAO,OAAO,GAAG,CAAC,CAAC,QAAU,CAAC;YAC5B,IAAI,MAAM,EAAE;YACZ,MAAM,MAAM,IAAI;QAClB,CAAC;AACH;;;;;;IAde;AAgBR,eAAe;IACpB,IAAI;QACF,MAAM,SAAS,MAAM;QACrB,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE;QAAO;IACpC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,0BAA0B;QACxC,8EAA8E;QAC9E,MAAM,WAAW,OAAO,OAAO,CAAC,yIAAU,EAAE,GAAG,CAAC,CAAC,CAAC,IAAI,KAAK,GAAK,CAAC;gBAC/D;gBACA,MAAM,KAAK,KAAK,IAAI;YACtB,CAAC;QACD,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,QAAQ;YAAU,SAAS;QAAqB,GAClD;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}