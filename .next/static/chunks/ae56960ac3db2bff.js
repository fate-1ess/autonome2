(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,335586,e=>{"use strict";var t=e.i(843476),r=e.i(271645),l=e.i(519455),a=e.i(500932),s=e.i(975157);function n(e){let r,l,n,o,i=(0,a.c)(8);return i[0]!==e?({className:r,...l}=e,i[0]=e,i[1]=r,i[2]=l):(r=i[1],l=i[2]),i[3]!==r?(n=(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",r),i[3]=r,i[4]=n):n=i[4],i[5]!==l||i[6]!==n?(o=(0,t.jsx)("div",{"data-slot":"card",className:n,...l}),i[5]=l,i[6]=n,i[7]=o):o=i[7],o}function o(e){let r,l,n,o,i=(0,a.c)(8);return i[0]!==e?({className:r,...l}=e,i[0]=e,i[1]=r,i[2]=l):(r=i[1],l=i[2]),i[3]!==r?(n=(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),i[3]=r,i[4]=n):n=i[4],i[5]!==l||i[6]!==n?(o=(0,t.jsx)("div",{"data-slot":"card-header",className:n,...l}),i[5]=l,i[6]=n,i[7]=o):o=i[7],o}function i(e){let r,l,n,o,i=(0,a.c)(8);return i[0]!==e?({className:r,...l}=e,i[0]=e,i[1]=r,i[2]=l):(r=i[1],l=i[2]),i[3]!==r?(n=(0,s.cn)("leading-none font-semibold",r),i[3]=r,i[4]=n):n=i[4],i[5]!==l||i[6]!==n?(o=(0,t.jsx)("div",{"data-slot":"card-title",className:n,...l}),i[5]=l,i[6]=n,i[7]=o):o=i[7],o}function c(e){let r,l,n,o,i=(0,a.c)(8);return i[0]!==e?({className:r,...l}=e,i[0]=e,i[1]=r,i[2]=l):(r=i[1],l=i[2]),i[3]!==r?(n=(0,s.cn)("px-6",r),i[3]=r,i[4]=n):n=i[4],i[5]!==l||i[6]!==n?(o=(0,t.jsx)("div",{"data-slot":"card-content",className:n,...l}),i[5]=l,i[6]=n,i[7]=o):o=i[7],o}var d=e.i(793479),u=e.i(248425),m=r.forwardRef((e,r)=>(0,t.jsx)(u.Primitive.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));m.displayName="Label",e.s(["Label",()=>m,"Root",()=>m],973741);var p=e.i(973741),p=p;function h(e){let r,l,n,o,i=(0,a.c)(8);return i[0]!==e?({className:r,...l}=e,i[0]=e,i[1]=r,i[2]=l):(r=i[1],l=i[2]),i[3]!==r?(n=(0,s.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),i[3]=r,i[4]=n):n=i[4],i[5]!==l||i[6]!==n?(o=(0,t.jsx)(p.Root,{"data-slot":"label",className:n,...l}),i[5]=l,i[6]=n,i[7]=o):o=i[7],o}var x=e.i(759684),f=e.i(174080),v=e.i(470152),g=e.i(981140),b=e.i(75830),j=e.i(820783),y=e.i(30030),w=e.i(586318),N=e.i(726330),S=e.i(303536),C=e.i(765491),E=e.i(610772),k=e.i(853660),P=e.i(774606),R=e.i(991918),I=e.i(30207),T=e.i(369340),L=e.i(934620),D=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"});r.forwardRef((e,r)=>(0,t.jsx)(u.Primitive.span,{...e,ref:r,style:{...D,...e.style}})).displayName="VisuallyHidden";var M=e.i(186312),_=e.i(985369),z=[" ","Enter","ArrowUp","ArrowDown"],H=[" ","Enter"],A="Select",[B,F,O]=(0,b.createCollection)(A),[$,U]=(0,y.createContextScope)(A,[O,k.createPopperScope]),V=(0,k.createPopperScope)(),[K,q]=$(A),[W,J]=$(A),G=e=>{let{__scopeSelect:l,children:a,open:s,defaultOpen:n,onOpenChange:o,value:i,defaultValue:c,onValueChange:d,dir:u,name:m,autoComplete:p,disabled:h,required:x,form:f}=e,v=V(l),[g,b]=r.useState(null),[j,y]=r.useState(null),[N,S]=r.useState(!1),C=(0,w.useDirection)(u),[P,R]=(0,T.useControllableState)({prop:s,defaultProp:n??!1,onChange:o,caller:A}),[I,L]=(0,T.useControllableState)({prop:i,defaultProp:c,onChange:d,caller:A}),D=r.useRef(null),M=!g||f||!!g.closest("form"),[_,z]=r.useState(new Set),H=Array.from(_).map(e=>e.props.value).join(";");return(0,t.jsx)(k.Root,{...v,children:(0,t.jsxs)(K,{required:x,scope:l,trigger:g,onTriggerChange:b,valueNode:j,onValueNodeChange:y,valueNodeHasChildren:N,onValueNodeHasChildrenChange:S,contentId:(0,E.useId)(),value:I,onValueChange:L,open:P,onOpenChange:R,dir:C,triggerPointerDownPosRef:D,disabled:h,children:[(0,t.jsx)(B.Provider,{scope:l,children:(0,t.jsx)(W,{scope:e.__scopeSelect,onNativeOptionAdd:r.useCallback(e=>{z(t=>new Set(t).add(e))},[]),onNativeOptionRemove:r.useCallback(e=>{z(t=>{let r=new Set(t);return r.delete(e),r})},[]),children:a})}),M?(0,t.jsxs)(eL,{"aria-hidden":!0,required:x,tabIndex:-1,name:m,autoComplete:p,value:I,onChange:e=>L(e.target.value),disabled:h,form:f,children:[void 0===I?(0,t.jsx)("option",{value:""}):null,Array.from(_)]},H):null]})})};G.displayName=A;var X="SelectTrigger",Y=r.forwardRef((e,l)=>{let{__scopeSelect:a,disabled:s=!1,...n}=e,o=V(a),i=q(X,a),c=i.disabled||s,d=(0,j.useComposedRefs)(l,i.onTriggerChange),m=F(a),p=r.useRef("touch"),[h,x,f]=eM(e=>{let t=m().filter(e=>!e.disabled),r=t.find(e=>e.value===i.value),l=e_(t,e,r);void 0!==l&&i.onValueChange(l.value)}),v=e=>{c||(i.onOpenChange(!0),f()),e&&(i.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,t.jsx)(k.Anchor,{asChild:!0,...o,children:(0,t.jsx)(u.Primitive.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":eD(i.value)?"":void 0,...n,ref:d,onClick:(0,g.composeEventHandlers)(n.onClick,e=>{e.currentTarget.focus(),"mouse"!==p.current&&v(e)}),onPointerDown:(0,g.composeEventHandlers)(n.onPointerDown,e=>{p.current=e.pointerType;let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(v(e),e.preventDefault())}),onKeyDown:(0,g.composeEventHandlers)(n.onKeyDown,e=>{let t=""!==h.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||x(e.key),(!t||" "!==e.key)&&z.includes(e.key)&&(v(),e.preventDefault())})})})});Y.displayName=X;var Q="SelectValue",Z=r.forwardRef((e,r)=>{let{__scopeSelect:l,className:a,style:s,children:n,placeholder:o="",...i}=e,c=q(Q,l),{onValueNodeHasChildrenChange:d}=c,m=void 0!==n,p=(0,j.useComposedRefs)(r,c.onValueNodeChange);return(0,L.useLayoutEffect)(()=>{d(m)},[d,m]),(0,t.jsx)(u.Primitive.span,{...i,ref:p,style:{pointerEvents:"none"},children:eD(c.value)?(0,t.jsx)(t.Fragment,{children:o}):n})});Z.displayName=Q;var ee=r.forwardRef((e,r)=>{let{__scopeSelect:l,children:a,...s}=e;return(0,t.jsx)(u.Primitive.span,{"aria-hidden":!0,...s,ref:r,children:a||"▼"})});ee.displayName="SelectIcon";var et=e=>(0,t.jsx)(P.Portal,{asChild:!0,...e});et.displayName="SelectPortal";var er="SelectContent",el=r.forwardRef((e,l)=>{let a=q(er,e.__scopeSelect),[s,n]=r.useState();return((0,L.useLayoutEffect)(()=>{n(new DocumentFragment)},[]),a.open)?(0,t.jsx)(eo,{...e,ref:l}):s?f.createPortal((0,t.jsx)(ea,{scope:e.__scopeSelect,children:(0,t.jsx)(B.Slot,{scope:e.__scopeSelect,children:(0,t.jsx)("div",{children:e.children})})}),s):null});el.displayName=er;var[ea,es]=$(er),en=(0,R.createSlot)("SelectContent.RemoveScroll"),eo=r.forwardRef((e,l)=>{let{__scopeSelect:a,position:s="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:o,onPointerDownOutside:i,side:c,sideOffset:d,align:u,alignOffset:m,arrowPadding:p,collisionBoundary:h,collisionPadding:x,sticky:f,hideWhenDetached:v,avoidCollisions:b,...y}=e,w=q(er,a),[E,k]=r.useState(null),[P,R]=r.useState(null),I=(0,j.useComposedRefs)(l,e=>k(e)),[T,L]=r.useState(null),[D,z]=r.useState(null),H=F(a),[A,B]=r.useState(!1),O=r.useRef(!1);r.useEffect(()=>{if(E)return(0,M.hideOthers)(E)},[E]),(0,S.useFocusGuards)();let $=r.useCallback(e=>{let[t,...r]=H().map(e=>e.ref.current),[l]=r.slice(-1),a=document.activeElement;for(let r of e)if(r===a||(r?.scrollIntoView({block:"nearest"}),r===t&&P&&(P.scrollTop=0),r===l&&P&&(P.scrollTop=P.scrollHeight),r?.focus(),document.activeElement!==a))return},[H,P]),U=r.useCallback(()=>$([T,E]),[$,T,E]);r.useEffect(()=>{A&&U()},[A,U]);let{onOpenChange:V,triggerPointerDownPosRef:K}=w;r.useEffect(()=>{if(E){let e={x:0,y:0},t=t=>{e={x:Math.abs(Math.round(t.pageX)-(K.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(K.current?.y??0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():E.contains(r.target)||V(!1),document.removeEventListener("pointermove",t),K.current=null};return null!==K.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}},[E,V,K]),r.useEffect(()=>{let e=()=>V(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[V]);let[W,J]=eM(e=>{let t=H().filter(e=>!e.disabled),r=t.find(e=>e.ref.current===document.activeElement),l=e_(t,e,r);l&&setTimeout(()=>l.ref.current.focus())}),G=r.useCallback((e,t,r)=>{let l=!O.current&&!r;(void 0!==w.value&&w.value===t||l)&&(L(e),l&&(O.current=!0))},[w.value]),X=r.useCallback(()=>E?.focus(),[E]),Y=r.useCallback((e,t,r)=>{let l=!O.current&&!r;(void 0!==w.value&&w.value===t||l)&&z(e)},[w.value]),Q="popper"===s?ec:ei,Z=Q===ec?{side:c,sideOffset:d,align:u,alignOffset:m,arrowPadding:p,collisionBoundary:h,collisionPadding:x,sticky:f,hideWhenDetached:v,avoidCollisions:b}:{};return(0,t.jsx)(ea,{scope:a,content:E,viewport:P,onViewportChange:R,itemRefCallback:G,selectedItem:T,onItemLeave:X,itemTextRefCallback:Y,focusSelectedItem:U,selectedItemText:D,position:s,isPositioned:A,searchRef:W,children:(0,t.jsx)(_.RemoveScroll,{as:en,allowPinchZoom:!0,children:(0,t.jsx)(C.FocusScope,{asChild:!0,trapped:w.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,g.composeEventHandlers)(n,e=>{w.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:(0,t.jsx)(N.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:(0,t.jsx)(Q,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:e=>e.preventDefault(),...y,...Z,onPlaced:()=>B(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:(0,g.composeEventHandlers)(y.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||J(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=H().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let r=e.target,l=t.indexOf(r);t=t.slice(l+1)}setTimeout(()=>$(t)),e.preventDefault()}})})})})})})});eo.displayName="SelectContentImpl";var ei=r.forwardRef((e,l)=>{let{__scopeSelect:a,onPlaced:s,...n}=e,o=q(er,a),i=es(er,a),[c,d]=r.useState(null),[m,p]=r.useState(null),h=(0,j.useComposedRefs)(l,e=>p(e)),x=F(a),f=r.useRef(!1),g=r.useRef(!0),{viewport:b,selectedItem:y,selectedItemText:w,focusSelectedItem:N}=i,S=r.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&m&&b&&y&&w){let e=o.trigger.getBoundingClientRect(),t=m.getBoundingClientRect(),r=o.valueNode.getBoundingClientRect(),l=w.getBoundingClientRect();if("rtl"!==o.dir){let a=l.left-t.left,s=r.left-a,n=e.left-s,o=e.width+n,i=Math.max(o,t.width),d=window.innerWidth-10,u=(0,v.clamp)(s,[10,Math.max(10,d-i)]);c.style.minWidth=o+"px",c.style.left=u+"px"}else{let a=t.right-l.right,s=window.innerWidth-r.right-a,n=window.innerWidth-e.right-s,o=e.width+n,i=Math.max(o,t.width),d=window.innerWidth-10,u=(0,v.clamp)(s,[10,Math.max(10,d-i)]);c.style.minWidth=o+"px",c.style.right=u+"px"}let a=x(),n=window.innerHeight-20,i=b.scrollHeight,d=window.getComputedStyle(m),u=parseInt(d.borderTopWidth,10),p=parseInt(d.paddingTop,10),h=parseInt(d.borderBottomWidth,10),g=u+p+i+parseInt(d.paddingBottom,10)+h,j=Math.min(5*y.offsetHeight,g),N=window.getComputedStyle(b),S=parseInt(N.paddingTop,10),C=parseInt(N.paddingBottom,10),E=e.top+e.height/2-10,k=y.offsetHeight/2,P=u+p+(y.offsetTop+k);if(P<=E){let e=a.length>0&&y===a[a.length-1].ref.current;c.style.bottom="0px";let t=Math.max(n-E,k+(e?C:0)+(m.clientHeight-b.offsetTop-b.offsetHeight)+h);c.style.height=P+t+"px"}else{let e=a.length>0&&y===a[0].ref.current;c.style.top="0px";let t=Math.max(E,u+b.offsetTop+(e?S:0)+k);c.style.height=t+(g-P)+"px",b.scrollTop=P-E+b.offsetTop}c.style.margin="10px 0",c.style.minHeight=j+"px",c.style.maxHeight=n+"px",s?.(),requestAnimationFrame(()=>f.current=!0)}},[x,o.trigger,o.valueNode,c,m,b,y,w,o.dir,s]);(0,L.useLayoutEffect)(()=>S(),[S]);let[C,E]=r.useState();(0,L.useLayoutEffect)(()=>{m&&E(window.getComputedStyle(m).zIndex)},[m]);let k=r.useCallback(e=>{e&&!0===g.current&&(S(),N?.(),g.current=!1)},[S,N]);return(0,t.jsx)(ed,{scope:a,contentWrapper:c,shouldExpandOnScrollRef:f,onScrollButtonChange:k,children:(0,t.jsx)("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:(0,t.jsx)(u.Primitive.div,{...n,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});ei.displayName="SelectItemAlignedPosition";var ec=r.forwardRef((e,r)=>{let{__scopeSelect:l,align:a="start",collisionPadding:s=10,...n}=e,o=V(l);return(0,t.jsx)(k.Content,{...o,...n,ref:r,align:a,collisionPadding:s,style:{boxSizing:"border-box",...n.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ec.displayName="SelectPopperPosition";var[ed,eu]=$(er,{}),em="SelectViewport",ep=r.forwardRef((e,l)=>{let{__scopeSelect:a,nonce:s,...n}=e,o=es(em,a),i=eu(em,a),c=(0,j.useComposedRefs)(l,o.onViewportChange),d=r.useRef(0);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),(0,t.jsx)(B.Slot,{scope:a,children:(0,t.jsx)(u.Primitive.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:(0,g.composeEventHandlers)(n.onScroll,e=>{let t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:l}=i;if(l?.current&&r){let e=Math.abs(d.current-t.scrollTop);if(e>0){let l=window.innerHeight-20,a=Math.max(parseFloat(r.style.minHeight),parseFloat(r.style.height));if(a<l){let s=a+e,n=Math.min(l,s),o=s-n;r.style.height=n+"px","0px"===r.style.bottom&&(t.scrollTop=o>0?o:0,r.style.justifyContent="flex-end")}}}d.current=t.scrollTop})})})]})});ep.displayName=em;var eh="SelectGroup",[ex,ef]=$(eh);r.forwardRef((e,r)=>{let{__scopeSelect:l,...a}=e,s=(0,E.useId)();return(0,t.jsx)(ex,{scope:l,id:s,children:(0,t.jsx)(u.Primitive.div,{role:"group","aria-labelledby":s,...a,ref:r})})}).displayName=eh;var ev="SelectLabel";r.forwardRef((e,r)=>{let{__scopeSelect:l,...a}=e,s=ef(ev,l);return(0,t.jsx)(u.Primitive.div,{id:s.id,...a,ref:r})}).displayName=ev;var eg="SelectItem",[eb,ej]=$(eg),ey=r.forwardRef((e,l)=>{let{__scopeSelect:a,value:s,disabled:n=!1,textValue:o,...i}=e,c=q(eg,a),d=es(eg,a),m=c.value===s,[p,h]=r.useState(o??""),[x,f]=r.useState(!1),v=(0,j.useComposedRefs)(l,e=>d.itemRefCallback?.(e,s,n)),b=(0,E.useId)(),y=r.useRef("touch"),w=()=>{n||(c.onValueChange(s),c.onOpenChange(!1))};if(""===s)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,t.jsx)(eb,{scope:a,value:s,disabled:n,textId:b,isSelected:m,onItemTextChange:r.useCallback(e=>{h(t=>t||(e?.textContent??"").trim())},[]),children:(0,t.jsx)(B.ItemSlot,{scope:a,value:s,disabled:n,textValue:p,children:(0,t.jsx)(u.Primitive.div,{role:"option","aria-labelledby":b,"data-highlighted":x?"":void 0,"aria-selected":m&&x,"data-state":m?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...i,ref:v,onFocus:(0,g.composeEventHandlers)(i.onFocus,()=>f(!0)),onBlur:(0,g.composeEventHandlers)(i.onBlur,()=>f(!1)),onClick:(0,g.composeEventHandlers)(i.onClick,()=>{"mouse"!==y.current&&w()}),onPointerUp:(0,g.composeEventHandlers)(i.onPointerUp,()=>{"mouse"===y.current&&w()}),onPointerDown:(0,g.composeEventHandlers)(i.onPointerDown,e=>{y.current=e.pointerType}),onPointerMove:(0,g.composeEventHandlers)(i.onPointerMove,e=>{y.current=e.pointerType,n?d.onItemLeave?.():"mouse"===y.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,g.composeEventHandlers)(i.onPointerLeave,e=>{e.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:(0,g.composeEventHandlers)(i.onKeyDown,e=>{(d.searchRef?.current===""||" "!==e.key)&&(H.includes(e.key)&&w()," "===e.key&&e.preventDefault())})})})})});ey.displayName=eg;var ew="SelectItemText",eN=r.forwardRef((e,l)=>{let{__scopeSelect:a,className:s,style:n,...o}=e,i=q(ew,a),c=es(ew,a),d=ej(ew,a),m=J(ew,a),[p,h]=r.useState(null),x=(0,j.useComposedRefs)(l,e=>h(e),d.onItemTextChange,e=>c.itemTextRefCallback?.(e,d.value,d.disabled)),v=p?.textContent,g=r.useMemo(()=>(0,t.jsx)("option",{value:d.value,disabled:d.disabled,children:v},d.value),[d.disabled,d.value,v]),{onNativeOptionAdd:b,onNativeOptionRemove:y}=m;return(0,L.useLayoutEffect)(()=>(b(g),()=>y(g)),[b,y,g]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Primitive.span,{id:d.textId,...o,ref:x}),d.isSelected&&i.valueNode&&!i.valueNodeHasChildren?f.createPortal(o.children,i.valueNode):null]})});eN.displayName=ew;var eS="SelectItemIndicator",eC=r.forwardRef((e,r)=>{let{__scopeSelect:l,...a}=e;return ej(eS,l).isSelected?(0,t.jsx)(u.Primitive.span,{"aria-hidden":!0,...a,ref:r}):null});eC.displayName=eS;var eE="SelectScrollUpButton",ek=r.forwardRef((e,l)=>{let a=es(eE,e.__scopeSelect),s=eu(eE,e.__scopeSelect),[n,o]=r.useState(!1),i=(0,j.useComposedRefs)(l,s.onScrollButtonChange);return(0,L.useLayoutEffect)(()=>{if(a.viewport&&a.isPositioned){let e=function(){o(t.scrollTop>0)},t=a.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[a.viewport,a.isPositioned]),n?(0,t.jsx)(eI,{...e,ref:i,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=a;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});ek.displayName=eE;var eP="SelectScrollDownButton",eR=r.forwardRef((e,l)=>{let a=es(eP,e.__scopeSelect),s=eu(eP,e.__scopeSelect),[n,o]=r.useState(!1),i=(0,j.useComposedRefs)(l,s.onScrollButtonChange);return(0,L.useLayoutEffect)(()=>{if(a.viewport&&a.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;o(Math.ceil(t.scrollTop)<e)},t=a.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[a.viewport,a.isPositioned]),n?(0,t.jsx)(eI,{...e,ref:i,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=a;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});eR.displayName=eP;var eI=r.forwardRef((e,l)=>{let{__scopeSelect:a,onAutoScroll:s,...n}=e,o=es("SelectScrollButton",a),i=r.useRef(null),c=F(a),d=r.useCallback(()=>{null!==i.current&&(window.clearInterval(i.current),i.current=null)},[]);return r.useEffect(()=>()=>d(),[d]),(0,L.useLayoutEffect)(()=>{let e=c().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[c]),(0,t.jsx)(u.Primitive.div,{"aria-hidden":!0,...n,ref:l,style:{flexShrink:0,...n.style},onPointerDown:(0,g.composeEventHandlers)(n.onPointerDown,()=>{null===i.current&&(i.current=window.setInterval(s,50))}),onPointerMove:(0,g.composeEventHandlers)(n.onPointerMove,()=>{o.onItemLeave?.(),null===i.current&&(i.current=window.setInterval(s,50))}),onPointerLeave:(0,g.composeEventHandlers)(n.onPointerLeave,()=>{d()})})});r.forwardRef((e,r)=>{let{__scopeSelect:l,...a}=e;return(0,t.jsx)(u.Primitive.div,{"aria-hidden":!0,...a,ref:r})}).displayName="SelectSeparator";var eT="SelectArrow";r.forwardRef((e,r)=>{let{__scopeSelect:l,...a}=e,s=V(l),n=q(eT,l),o=es(eT,l);return n.open&&"popper"===o.position?(0,t.jsx)(k.Arrow,{...s,...a,ref:r}):null}).displayName=eT;var eL=r.forwardRef(({__scopeSelect:e,value:l,...a},s)=>{let n,o=r.useRef(null),i=(0,j.useComposedRefs)(s,o),c=(n=r.useRef({value:l,previous:l}),r.useMemo(()=>(n.current.value!==l&&(n.current.previous=n.current.value,n.current.value=l),n.current.previous),[l]));return r.useEffect(()=>{let e=o.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(c!==l&&t){let r=new Event("change",{bubbles:!0});t.call(e,l),e.dispatchEvent(r)}},[c,l]),(0,t.jsx)(u.Primitive.select,{...a,style:{...D,...a.style},ref:i,defaultValue:l})});function eD(e){return""===e||void 0===e}function eM(e){let t=(0,I.useCallbackRef)(e),l=r.useRef(""),a=r.useRef(0),s=r.useCallback(e=>{let r=l.current+e;t(r),function e(t){l.current=t,window.clearTimeout(a.current),""!==t&&(a.current=window.setTimeout(()=>e(""),1e3))}(r)},[t]),n=r.useCallback(()=>{l.current="",window.clearTimeout(a.current)},[]);return r.useEffect(()=>()=>window.clearTimeout(a.current),[]),[l,s,n]}function e_(e,t,r){var l,a;let s=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,n=r?e.indexOf(r):-1,o=(l=e,a=Math.max(n,0),l.map((e,t)=>l[(a+t)%l.length]));1===s.length&&(o=o.filter(e=>e!==r));let i=o.find(e=>e.textValue.toLowerCase().startsWith(s.toLowerCase()));return i!==r?i:void 0}eL.displayName="SelectBubbleInput";var ez=e.i(678784),eH=e.i(631171),eH=eH;let eA=(0,e.i(475254).default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);function eB(e){let r,l,s=(0,a.c)(4);return s[0]!==e?({...r}=e,s[0]=e,s[1]=r):r=s[1],s[2]!==r?(l=(0,t.jsx)(G,{"data-slot":"select",...r}),s[2]=r,s[3]=l):l=s[3],l}function eF(e){let r,l,s=(0,a.c)(4);return s[0]!==e?({...r}=e,s[0]=e,s[1]=r):r=s[1],s[2]!==r?(l=(0,t.jsx)(Z,{"data-slot":"select-value",...r}),s[2]=r,s[3]=l):l=s[3],l}function eO(e){let r,l,n,o,i,c,d,u=(0,a.c)(13);u[0]!==e?({className:l,size:o,children:r,...n}=e,u[0]=e,u[1]=r,u[2]=l,u[3]=n,u[4]=o):(r=u[1],l=u[2],n=u[3],o=u[4]);let m=void 0===o?"default":o;return u[5]!==l?(i=(0,s.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",l),u[5]=l,u[6]=i):i=u[6],u[7]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)(ee,{asChild:!0,children:(0,t.jsx)(eH.default,{className:"size-4 opacity-50"})}),u[7]=c):c=u[7],u[8]!==r||u[9]!==n||u[10]!==m||u[11]!==i?(d=(0,t.jsxs)(Y,{"data-slot":"select-trigger","data-size":m,className:i,...n,children:[r,c]}),u[8]=r,u[9]=n,u[10]=m,u[11]=i,u[12]=d):d=u[12],d}function e$(e){let r,l,n,o,i,c,d,u,m,p,h,x=(0,a.c)(22);x[0]!==e?({className:l,children:r,position:o,align:i,...n}=e,x[0]=e,x[1]=r,x[2]=l,x[3]=n,x[4]=o,x[5]=i):(r=x[1],l=x[2],n=x[3],o=x[4],i=x[5]);let f=void 0===o?"popper":o,v=void 0===i?"center":i,g="popper"===f&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1";x[6]!==l||x[7]!==g?(c=(0,s.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",g,l),x[6]=l,x[7]=g,x[8]=c):c=x[8],x[9]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)(eV,{}),x[9]=d):d=x[9];let b="popper"===f&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1";return x[10]!==b?(u=(0,s.cn)("p-1",b),x[10]=b,x[11]=u):u=x[11],x[12]!==r||x[13]!==u?(m=(0,t.jsx)(ep,{className:u,children:r}),x[12]=r,x[13]=u,x[14]=m):m=x[14],x[15]===Symbol.for("react.memo_cache_sentinel")?(p=(0,t.jsx)(eK,{}),x[15]=p):p=x[15],x[16]!==v||x[17]!==f||x[18]!==n||x[19]!==c||x[20]!==m?(h=(0,t.jsx)(et,{children:(0,t.jsxs)(el,{"data-slot":"select-content",className:c,position:f,align:v,...n,children:[d,m,p]})}),x[16]=v,x[17]=f,x[18]=n,x[19]=c,x[20]=m,x[21]=h):h=x[21],h}function eU(e){let r,l,n,o,i,c,d,u=(0,a.c)(13);return u[0]!==e?({className:l,children:r,...n}=e,u[0]=e,u[1]=r,u[2]=l,u[3]=n):(r=u[1],l=u[2],n=u[3]),u[4]!==l?(o=(0,s.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",l),u[4]=l,u[5]=o):o=u[5],u[6]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,t.jsx)(eC,{children:(0,t.jsx)(ez.CheckIcon,{className:"size-4"})})}),u[6]=i):i=u[6],u[7]!==r?(c=(0,t.jsx)(eN,{children:r}),u[7]=r,u[8]=c):c=u[8],u[9]!==n||u[10]!==o||u[11]!==c?(d=(0,t.jsxs)(ey,{"data-slot":"select-item",className:o,...n,children:[i,c]}),u[9]=n,u[10]=o,u[11]=c,u[12]=d):d=u[12],d}function eV(e){let r,l,n,o,i,c=(0,a.c)(9);return c[0]!==e?({className:r,...l}=e,c[0]=e,c[1]=r,c[2]=l):(r=c[1],l=c[2]),c[3]!==r?(n=(0,s.cn)("flex cursor-default items-center justify-center py-1",r),c[3]=r,c[4]=n):n=c[4],c[5]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsx)(eA,{className:"size-4"}),c[5]=o):o=c[5],c[6]!==l||c[7]!==n?(i=(0,t.jsx)(ek,{"data-slot":"select-scroll-up-button",className:n,...l,children:o}),c[6]=l,c[7]=n,c[8]=i):i=c[8],i}function eK(e){let r,l,n,o,i,c=(0,a.c)(9);return c[0]!==e?({className:r,...l}=e,c[0]=e,c[1]=r,c[2]=l):(r=c[1],l=c[2]),c[3]!==r?(n=(0,s.cn)("flex cursor-default items-center justify-center py-1",r),c[3]=r,c[4]=n):n=c[4],c[5]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsx)(eH.default,{className:"size-4"}),c[5]=o):o=c[5],c[6]!==l||c[7]!==n?(i=(0,t.jsx)(eR,{"data-slot":"select-scroll-down-button",className:n,...l,children:o}),c[6]=l,c[7]=n,c[8]=i):i=c[8],i}let eq=["BTC","ETH","SOL"],eW="demo",eJ=e=>e.toUpperCase().replace(/USDT$/i,""),eG=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});function eX(e){return null!=e&&Number.isFinite(e)?`$${eG.format(e)}`:"—"}function eY(){var e;let a,[s,u]=(0,r.useState)(eW),[m,p]=(0,r.useState)([{id:eW,label:"Demo account"}]),[f,v]=(0,r.useState)(eq[0]),[g,b]=(0,r.useState)(null),[j,y]=(0,r.useState)(null),[w,N]=(0,r.useState)([]),[S,C]=(0,r.useState)([]),[E,k]=(0,r.useState)("buy"),[P,R]=(0,r.useState)("market"),[I,T]=(0,r.useState)(""),[L,D]=(0,r.useState)(""),[M,_]=(0,r.useState)(!1),z=(0,r.useMemo)(()=>eJ(f),[f]),H=(0,r.useCallback)((e,t)=>{C(r=>{let l=r.filter(t=>!t.startsWith(`${e}:`));return[`${e}: ${t}`,...l].slice(0,6)})},[]),A=(0,r.useCallback)(e=>{C(t=>t.filter(t=>!t.startsWith(`${e}:`)))},[]),B=(0,r.useCallback)(async e=>{try{let t=await fetch(`/api/sim/orderbook?symbol=${encodeURIComponent(e)}`,{cache:"no-store"});if(!t.ok){let e=await t.text();throw Error(e||`Request failed (${t.status})`)}let r=(await t.json()).orderBook;b(r),A("orderbook")}catch(e){H("orderbook",e instanceof Error?e.message:String(e)),b(null)}},[A,H]),F=(0,r.useCallback)(async e=>{try{let t=await fetch(`/api/sim/account?accountId=${encodeURIComponent(e)}`,{cache:"no-store"});if(!t.ok){let e=await t.text();throw Error(e||`Request failed (${t.status})`)}let r=await t.json();y(r.account),A("account")}catch(e){H("account",e instanceof Error?e.message:String(e)),y(null)}},[A,H]);(0,r.useEffect)(()=>{B(f)},[B,f]),(0,r.useEffect)(()=>{F(s)},[s,F]),(0,r.useEffect)(()=>{let e=setInterval(()=>{B(f)},1e4);return()=>clearInterval(e)},[f,B]),(0,r.useEffect)(()=>{let e=setInterval(()=>{F(s)},1e4);return()=>clearInterval(e)},[s,F]),(0,r.useEffect)(()=>{N([])},[s]),(0,r.useEffect)(()=>{let e=!1;return(async()=>{try{let t=await fetch("/api/models",{cache:"no-store"});if(!t.ok){let e=await t.text();throw Error(e||`Request failed (${t.status})`)}let r=await t.json();if(e)return;let l=Array.isArray(r.models)?r.models.map(e=>({id:e.id,label:e.name&&e.name.trim().length>0?e.name:e.id})):[],a={id:eW,label:"Demo account"},s=l.length>0?[...l]:[a];s.some(e=>e.id===a.id)||s.push(a),p(s),A("models"),u(e=>e===eW&&l.length>0?l[0]?.id??e:s.some(t=>t.id===e)?e:s[0]?.id??eW)}catch(t){if(e)return;H("models",t instanceof Error?t.message:String(t)),p(e=>e.length>0?e:[{id:eW,label:"Demo account"}])}})(),()=>{e=!0}},[A,H,u]);let O=(0,r.useCallback)((e,t)=>{N(r=>[{id:`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,label:e,payload:t,timestamp:Date.now()},...r].slice(0,150))},[]),$=(0,r.useCallback)(e=>{if("book"===e.type){let t=e.payload;eJ(t.symbol)===z&&b(t)}"account"===e.type&&y(e.payload.snapshot),O(e.type,e.payload)},[O,z]),U=(0,r.useCallback)(()=>{H("stream","unable to maintain realtime connection")},[H]);e={accountId:s},a=(0,r.useRef)(null),(0,r.useEffect)(()=>{let t="https:"===window.location.protocol?"wss:":"ws:",r=`${t}//${window.location.host}`,l=e?.accountId?`?accountId=${encodeURIComponent(e.accountId)}`:"",s=`${r}/api/sim/stream${l}`,n=!1,o=null,i=()=>{if(n)return;let e=new WebSocket(s);a.current=e,e.addEventListener("message",e=>{try{let t=JSON.parse(e.data);t&&t.type&&$(t)}catch(e){}});let t=e=>{U&&U(e)};e.addEventListener("error",t),e.addEventListener("close",e=>{t(e),n||(o=setTimeout(i,1500))})};return i(),()=>{n=!0,o&&(clearTimeout(o),o=null);let e=a.current;if(e)try{e.close()}catch(e){}a.current=null}},[$,U,e?.accountId]);let V=(0,r.useCallback)(async e=>{e.preventDefault();let t=Number(I);if(!Number.isFinite(t)||t<=0)return void H("order","enter a valid size greater than zero");let r={accountId:s,symbol:f,side:E,type:P,quantity:t};if("limit"===P){let e=Number(L);if(!Number.isFinite(e)||e<=0)return void H("order","limit orders require a positive price");r.limitPrice=e}_(!0);try{let e=await fetch("/api/sim/order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),t=await e.text(),l=t?JSON.parse(t):{};if(!e.ok)throw Error("string"==typeof l?.error?l.error:t||"request failed");O("order",l),A("order"),e.ok&&(await F(s),await B(f)),"market"===P&&D("")}catch(e){H("order",e instanceof Error?e.message:String(e))}finally{_(!1)}},[s,O,A,F,B,L,E,I,P,H,f]),K=(0,r.useMemo)(()=>(g?.asks??[]).slice(0,10),[g]),q=(0,r.useMemo)(()=>(g?.bids??[]).slice(0,10),[g]),W=(0,r.useMemo)(()=>{if(!j)return[];let e=Math.max(Math.min(j.availableCash??j.cashBalance??0,j.equity??0),0),t=Math.max(j.borrowedBalance??Math.max(-j.cashBalance,0),0),r=[{label:"Account Value",value:eX(j.equity)},{label:"Available Cash",value:eX(e)},{label:"Realized PnL",value:eX(j.totalRealizedPnl)},{label:"Unrealized PnL",value:eX(j.totalUnrealizedPnl)}];return t>.005&&r.splice(2,0,{label:"Margin Used",value:eX(t)}),r},[j]);return(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsxs)(n,{children:[(0,t.jsxs)(o,{className:"flex flex-col gap-4 sm:flex-row sm:items-end sm:justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(i,{className:"text-xl font-semibold",children:"Simulator Control Panel"}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:"Interact with the simulated exchange and monitor account state in real time."})]}),(0,t.jsx)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-end sm:gap-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)(h,{htmlFor:"account-id",className:"text-xs uppercase tracking-wide",children:"Account"}),(0,t.jsxs)(eB,{value:s,onValueChange:u,children:[(0,t.jsx)(eO,{id:"account-id",className:"w-56",children:(0,t.jsx)(eF,{placeholder:"Select account"})}),(0,t.jsx)(e$,{children:m.map(e=>(0,t.jsx)(eU,{value:e.id,children:e.label},e.id))})]})]})})]}),W.length>0&&(0,t.jsx)(c,{children:(0,t.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:W.map(e=>(0,t.jsxs)("div",{className:"rounded-lg border bg-muted/30 p-4",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.label}),(0,t.jsx)("p",{className:"text-lg font-semibold",children:e.value})]},e.label))})})]}),(0,t.jsxs)("div",{className:"grid gap-6 xl:grid-cols-[2fr_1fr]",children:[(0,t.jsxs)(n,{children:[(0,t.jsxs)(o,{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(i,{className:"text-lg",children:["Order Book · ",f]}),g&&(0,t.jsxs)("p",{className:"text-muted-foreground text-sm",children:["Spread: ",eG.format(g.spread)," · Mid: ",eX(g.midPrice)]})]}),(0,t.jsxs)(eB,{value:f,onValueChange:e=>v(e),children:[(0,t.jsx)(eO,{children:(0,t.jsx)(eF,{placeholder:"Symbol"})}),(0,t.jsx)(e$,{children:eq.map(e=>(0,t.jsx)(eU,{value:e,children:e},e))})]})]}),(0,t.jsx)(c,{children:g?(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"mb-2 text-sm font-semibold text-red-500",children:"Asks"}),(0,t.jsx)("div",{className:"rounded-md border",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b text-xs uppercase text-muted-foreground",children:[(0,t.jsx)("th",{className:"p-2 text-left",children:"Price"}),(0,t.jsx)("th",{className:"p-2 text-right",children:"Size"})]})}),(0,t.jsx)("tbody",{children:K.map((e,r)=>(0,t.jsxs)("tr",{className:"border-b last:border-b-0",children:[(0,t.jsx)("td",{className:"p-2 text-left text-red-500",children:eG.format(e.price)}),(0,t.jsx)("td",{className:"p-2 text-right",children:e.quantity.toFixed(4)})]},`ask-${r}`))})]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"mb-2 text-sm font-semibold text-emerald-500",children:"Bids"}),(0,t.jsx)("div",{className:"rounded-md border",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b text-xs uppercase text-muted-foreground",children:[(0,t.jsx)("th",{className:"p-2 text-left",children:"Price"}),(0,t.jsx)("th",{className:"p-2 text-right",children:"Size"})]})}),(0,t.jsx)("tbody",{children:q.map((e,r)=>(0,t.jsxs)("tr",{className:"border-b last:border-b-0",children:[(0,t.jsx)("td",{className:"p-2 text-left text-emerald-500",children:eG.format(e.price)}),(0,t.jsx)("td",{className:"p-2 text-right",children:e.quantity.toFixed(4)})]},`bid-${r}`))})]})})]})]}):(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:"Waiting for order book data…"})})]}),(0,t.jsxs)(n,{children:[(0,t.jsxs)(o,{children:[(0,t.jsx)(i,{className:"text-lg",children:"Submit Order"}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:"Orders execute against the simulator using the selected account."})]}),(0,t.jsx)(c,{children:(0,t.jsxs)("form",{onSubmit:V,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h,{children:"Side"}),(0,t.jsxs)(eB,{value:E,onValueChange:e=>k(e),children:[(0,t.jsx)(eO,{children:(0,t.jsx)(eF,{})}),(0,t.jsxs)(e$,{children:[(0,t.jsx)(eU,{value:"buy",children:"Buy"}),(0,t.jsx)(eU,{value:"sell",children:"Sell"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h,{children:"Type"}),(0,t.jsxs)(eB,{value:P,onValueChange:e=>R(e),children:[(0,t.jsx)(eO,{children:(0,t.jsx)(eF,{})}),(0,t.jsxs)(e$,{children:[(0,t.jsx)(eU,{value:"market",children:"Market"}),(0,t.jsx)(eU,{value:"limit",children:"Limit"})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h,{htmlFor:"order-size",children:"Size"}),(0,t.jsx)(d.Input,{id:"order-size",value:I,onChange:e=>T(e.target.value),placeholder:"0.01",inputMode:"decimal",required:!0})]}),"limit"===P&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h,{htmlFor:"order-price",children:"Limit Price"}),(0,t.jsx)(d.Input,{id:"order-price",value:L,onChange:e=>D(e.target.value),placeholder:"40000",inputMode:"decimal"})]}),(0,t.jsx)(l.Button,{type:"submit",disabled:M,className:"w-full",children:M?"Submitting…":`Submit ${E.toUpperCase()} ${P.toUpperCase()}`})]})})]})]}),(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-[1.5fr_1fr]",children:[(0,t.jsxs)(n,{children:[(0,t.jsx)(o,{children:(0,t.jsx)(i,{className:"text-lg",children:"Open Positions"})}),(0,t.jsx)(c,{children:j&&j.positions.length>0?(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b text-xs uppercase text-muted-foreground",children:[(0,t.jsx)("th",{className:"p-2 text-left",children:"Symbol"}),(0,t.jsx)("th",{className:"p-2 text-left",children:"Side"}),(0,t.jsx)("th",{className:"p-2 text-right",children:"Qty"}),(0,t.jsx)("th",{className:"p-2 text-right",children:"Entry"}),(0,t.jsx)("th",{className:"p-2 text-right",children:"Mark"}),(0,t.jsx)("th",{className:"p-2 text-right",children:"Realized"}),(0,t.jsx)("th",{className:"p-2 text-right",children:"Unrealized"})]})}),(0,t.jsx)("tbody",{children:j.positions.map(e=>(0,t.jsxs)("tr",{className:"border-b last:border-b-0",children:[(0,t.jsx)("td",{className:"p-2 text-left",children:e.symbol}),(0,t.jsx)("td",{className:"p-2 text-left",children:e.side}),(0,t.jsx)("td",{className:"p-2 text-right",children:e.quantity.toFixed(4)}),(0,t.jsx)("td",{className:"p-2 text-right",children:eG.format(e.avgEntryPrice)}),(0,t.jsx)("td",{className:"p-2 text-right",children:eG.format(e.markPrice)}),(0,t.jsx)("td",{className:"p-2 text-right",children:eX(e.realizedPnl)}),(0,t.jsx)("td",{className:`p-2 text-right ${e.unrealizedPnl>=0?"text-emerald-500":"text-red-500"}`,children:eX(e.unrealizedPnl)})]},e.symbol))})]})}):(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:"No open positions for this account."})})]}),(0,t.jsxs)(n,{children:[(0,t.jsxs)(o,{children:[(0,t.jsx)(i,{className:"text-lg",children:"Activity Log"}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:"Latest simulator events for the selected account."})]}),(0,t.jsx)(c,{children:(0,t.jsx)(x.ScrollArea,{className:"h-64",children:(0,t.jsxs)("div",{className:"space-y-3",children:[w.map(e=>(0,t.jsxs)("div",{className:"rounded-lg border bg-muted/30 p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm font-medium uppercase text-muted-foreground",children:e.label}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.timestamp).toLocaleTimeString()})]}),(0,t.jsx)("pre",{className:"mt-2 text-xs leading-5",children:JSON.stringify(e.payload,null,2)})]},e.id)),0===w.length&&(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:"Events will appear here once activity starts."})]})})})]})]}),S.length>0&&(0,t.jsxs)(n,{className:"border-destructive/60 bg-destructive/5",children:[(0,t.jsx)(o,{children:(0,t.jsx)(i,{className:"text-lg text-destructive",children:"Alerts"})}),(0,t.jsx)(c,{children:(0,t.jsx)("ul",{className:"space-y-2 text-sm",children:S.map(e=>(0,t.jsx)("li",{className:"font-mono",children:e},e))})})]})]})}e.s(["default",()=>eY],335586)}]);