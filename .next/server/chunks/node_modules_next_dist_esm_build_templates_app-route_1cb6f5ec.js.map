{"version":3,"sources":["turbopack:///[project]/node_modules/@ai-sdk/openai-compatible/dist/index.mjs","turbopack:///[project]/node_modules/next/dist/esm/build/templates/app-route.js","turbopack:///[project]/src/app/api/chat/route.ts"],"sourcesContent":["// src/chat/openai-compatible-chat-language-model.ts\nimport {\n  InvalidResponseDataError\n} from \"@ai-sdk/provider\";\nimport {\n  combineHeaders,\n  createEventSourceResponseHandler,\n  createJsonErrorResponseHandler,\n  createJsonResponseHandler,\n  generateId,\n  isParsableJson,\n  parseProviderOptions,\n  postJsonToApi\n} from \"@ai-sdk/provider-utils\";\nimport { z as z3 } from \"zod/v4\";\n\n// src/chat/convert-to-openai-compatible-chat-messages.ts\nimport {\n  UnsupportedFunctionalityError\n} from \"@ai-sdk/provider\";\nimport { convertToBase64 } from \"@ai-sdk/provider-utils\";\nfunction getOpenAIMetadata(message) {\n  var _a, _b;\n  return (_b = (_a = message == null ? void 0 : message.providerOptions) == null ? void 0 : _a.openaiCompatible) != null ? _b : {};\n}\nfunction convertToOpenAICompatibleChatMessages(prompt) {\n  const messages = [];\n  for (const { role, content, ...message } of prompt) {\n    const metadata = getOpenAIMetadata({ ...message });\n    switch (role) {\n      case \"system\": {\n        messages.push({ role: \"system\", content, ...metadata });\n        break;\n      }\n      case \"user\": {\n        if (content.length === 1 && content[0].type === \"text\") {\n          messages.push({\n            role: \"user\",\n            content: content[0].text,\n            ...getOpenAIMetadata(content[0])\n          });\n          break;\n        }\n        messages.push({\n          role: \"user\",\n          content: content.map((part) => {\n            const partMetadata = getOpenAIMetadata(part);\n            switch (part.type) {\n              case \"text\": {\n                return { type: \"text\", text: part.text, ...partMetadata };\n              }\n              case \"file\": {\n                if (part.mediaType.startsWith(\"image/\")) {\n                  const mediaType = part.mediaType === \"image/*\" ? \"image/jpeg\" : part.mediaType;\n                  return {\n                    type: \"image_url\",\n                    image_url: {\n                      url: part.data instanceof URL ? part.data.toString() : `data:${mediaType};base64,${convertToBase64(part.data)}`\n                    },\n                    ...partMetadata\n                  };\n                } else {\n                  throw new UnsupportedFunctionalityError({\n                    functionality: `file part media type ${part.mediaType}`\n                  });\n                }\n              }\n            }\n          }),\n          ...metadata\n        });\n        break;\n      }\n      case \"assistant\": {\n        let text = \"\";\n        const toolCalls = [];\n        for (const part of content) {\n          const partMetadata = getOpenAIMetadata(part);\n          switch (part.type) {\n            case \"text\": {\n              text += part.text;\n              break;\n            }\n            case \"tool-call\": {\n              toolCalls.push({\n                id: part.toolCallId,\n                type: \"function\",\n                function: {\n                  name: part.toolName,\n                  arguments: JSON.stringify(part.input)\n                },\n                ...partMetadata\n              });\n              break;\n            }\n          }\n        }\n        messages.push({\n          role: \"assistant\",\n          content: text,\n          tool_calls: toolCalls.length > 0 ? toolCalls : void 0,\n          ...metadata\n        });\n        break;\n      }\n      case \"tool\": {\n        for (const toolResponse of content) {\n          const output = toolResponse.output;\n          let contentValue;\n          switch (output.type) {\n            case \"text\":\n            case \"error-text\":\n              contentValue = output.value;\n              break;\n            case \"content\":\n            case \"json\":\n            case \"error-json\":\n              contentValue = JSON.stringify(output.value);\n              break;\n          }\n          const toolResponseMetadata = getOpenAIMetadata(toolResponse);\n          messages.push({\n            role: \"tool\",\n            tool_call_id: toolResponse.toolCallId,\n            content: contentValue,\n            ...toolResponseMetadata\n          });\n        }\n        break;\n      }\n      default: {\n        const _exhaustiveCheck = role;\n        throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n      }\n    }\n  }\n  return messages;\n}\n\n// src/chat/get-response-metadata.ts\nfunction getResponseMetadata({\n  id,\n  model,\n  created\n}) {\n  return {\n    id: id != null ? id : void 0,\n    modelId: model != null ? model : void 0,\n    timestamp: created != null ? new Date(created * 1e3) : void 0\n  };\n}\n\n// src/chat/map-openai-compatible-finish-reason.ts\nfunction mapOpenAICompatibleFinishReason(finishReason) {\n  switch (finishReason) {\n    case \"stop\":\n      return \"stop\";\n    case \"length\":\n      return \"length\";\n    case \"content_filter\":\n      return \"content-filter\";\n    case \"function_call\":\n    case \"tool_calls\":\n      return \"tool-calls\";\n    default:\n      return \"unknown\";\n  }\n}\n\n// src/chat/openai-compatible-chat-options.ts\nimport { z } from \"zod/v4\";\nvar openaiCompatibleProviderOptions = z.object({\n  /**\n   * A unique identifier representing your end-user, which can help the provider to\n   * monitor and detect abuse.\n   */\n  user: z.string().optional(),\n  /**\n   * Reasoning effort for reasoning models. Defaults to `medium`.\n   */\n  reasoningEffort: z.string().optional(),\n  /**\n   * Controls the verbosity of the generated text. Defaults to `medium`.\n   */\n  textVerbosity: z.string().optional()\n});\n\n// src/openai-compatible-error.ts\nimport { z as z2 } from \"zod/v4\";\nvar openaiCompatibleErrorDataSchema = z2.object({\n  error: z2.object({\n    message: z2.string(),\n    // The additional information below is handled loosely to support\n    // OpenAI-compatible providers that have slightly different error\n    // responses:\n    type: z2.string().nullish(),\n    param: z2.any().nullish(),\n    code: z2.union([z2.string(), z2.number()]).nullish()\n  })\n});\nvar defaultOpenAICompatibleErrorStructure = {\n  errorSchema: openaiCompatibleErrorDataSchema,\n  errorToMessage: (data) => data.error.message\n};\n\n// src/chat/openai-compatible-prepare-tools.ts\nimport {\n  UnsupportedFunctionalityError as UnsupportedFunctionalityError2\n} from \"@ai-sdk/provider\";\nfunction prepareTools({\n  tools,\n  toolChoice\n}) {\n  tools = (tools == null ? void 0 : tools.length) ? tools : void 0;\n  const toolWarnings = [];\n  if (tools == null) {\n    return { tools: void 0, toolChoice: void 0, toolWarnings };\n  }\n  const openaiCompatTools = [];\n  for (const tool of tools) {\n    if (tool.type === \"provider-defined\") {\n      toolWarnings.push({ type: \"unsupported-tool\", tool });\n    } else {\n      openaiCompatTools.push({\n        type: \"function\",\n        function: {\n          name: tool.name,\n          description: tool.description,\n          parameters: tool.inputSchema\n        }\n      });\n    }\n  }\n  if (toolChoice == null) {\n    return { tools: openaiCompatTools, toolChoice: void 0, toolWarnings };\n  }\n  const type = toolChoice.type;\n  switch (type) {\n    case \"auto\":\n    case \"none\":\n    case \"required\":\n      return { tools: openaiCompatTools, toolChoice: type, toolWarnings };\n    case \"tool\":\n      return {\n        tools: openaiCompatTools,\n        toolChoice: {\n          type: \"function\",\n          function: { name: toolChoice.toolName }\n        },\n        toolWarnings\n      };\n    default: {\n      const _exhaustiveCheck = type;\n      throw new UnsupportedFunctionalityError2({\n        functionality: `tool choice type: ${_exhaustiveCheck}`\n      });\n    }\n  }\n}\n\n// src/chat/openai-compatible-chat-language-model.ts\nvar OpenAICompatibleChatLanguageModel = class {\n  // type inferred via constructor\n  constructor(modelId, config) {\n    this.specificationVersion = \"v2\";\n    var _a, _b;\n    this.modelId = modelId;\n    this.config = config;\n    const errorStructure = (_a = config.errorStructure) != null ? _a : defaultOpenAICompatibleErrorStructure;\n    this.chunkSchema = createOpenAICompatibleChatChunkSchema(\n      errorStructure.errorSchema\n    );\n    this.failedResponseHandler = createJsonErrorResponseHandler(errorStructure);\n    this.supportsStructuredOutputs = (_b = config.supportsStructuredOutputs) != null ? _b : false;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  get providerOptionsName() {\n    return this.config.provider.split(\".\")[0].trim();\n  }\n  get supportedUrls() {\n    var _a, _b, _c;\n    return (_c = (_b = (_a = this.config).supportedUrls) == null ? void 0 : _b.call(_a)) != null ? _c : {};\n  }\n  async getArgs({\n    prompt,\n    maxOutputTokens,\n    temperature,\n    topP,\n    topK,\n    frequencyPenalty,\n    presencePenalty,\n    providerOptions,\n    stopSequences,\n    responseFormat,\n    seed,\n    toolChoice,\n    tools\n  }) {\n    var _a, _b, _c, _d;\n    const warnings = [];\n    const compatibleOptions = Object.assign(\n      (_a = await parseProviderOptions({\n        provider: \"openai-compatible\",\n        providerOptions,\n        schema: openaiCompatibleProviderOptions\n      })) != null ? _a : {},\n      (_b = await parseProviderOptions({\n        provider: this.providerOptionsName,\n        providerOptions,\n        schema: openaiCompatibleProviderOptions\n      })) != null ? _b : {}\n    );\n    if (topK != null) {\n      warnings.push({ type: \"unsupported-setting\", setting: \"topK\" });\n    }\n    if ((responseFormat == null ? void 0 : responseFormat.type) === \"json\" && responseFormat.schema != null && !this.supportsStructuredOutputs) {\n      warnings.push({\n        type: \"unsupported-setting\",\n        setting: \"responseFormat\",\n        details: \"JSON response format schema is only supported with structuredOutputs\"\n      });\n    }\n    const {\n      tools: openaiTools,\n      toolChoice: openaiToolChoice,\n      toolWarnings\n    } = prepareTools({\n      tools,\n      toolChoice\n    });\n    return {\n      args: {\n        // model id:\n        model: this.modelId,\n        // model specific settings:\n        user: compatibleOptions.user,\n        // standardized settings:\n        max_tokens: maxOutputTokens,\n        temperature,\n        top_p: topP,\n        frequency_penalty: frequencyPenalty,\n        presence_penalty: presencePenalty,\n        response_format: (responseFormat == null ? void 0 : responseFormat.type) === \"json\" ? this.supportsStructuredOutputs === true && responseFormat.schema != null ? {\n          type: \"json_schema\",\n          json_schema: {\n            schema: responseFormat.schema,\n            name: (_c = responseFormat.name) != null ? _c : \"response\",\n            description: responseFormat.description\n          }\n        } : { type: \"json_object\" } : void 0,\n        stop: stopSequences,\n        seed,\n        ...Object.fromEntries(\n          Object.entries(\n            (_d = providerOptions == null ? void 0 : providerOptions[this.providerOptionsName]) != null ? _d : {}\n          ).filter(\n            ([key]) => !Object.keys(openaiCompatibleProviderOptions.shape).includes(key)\n          )\n        ),\n        reasoning_effort: compatibleOptions.reasoningEffort,\n        verbosity: compatibleOptions.textVerbosity,\n        // messages:\n        messages: convertToOpenAICompatibleChatMessages(prompt),\n        // tools:\n        tools: openaiTools,\n        tool_choice: openaiToolChoice\n      },\n      warnings: [...warnings, ...toolWarnings]\n    };\n  }\n  async doGenerate(options) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q;\n    const { args, warnings } = await this.getArgs({ ...options });\n    const body = JSON.stringify(args);\n    const {\n      responseHeaders,\n      value: responseBody,\n      rawValue: rawResponse\n    } = await postJsonToApi({\n      url: this.config.url({\n        path: \"/chat/completions\",\n        modelId: this.modelId\n      }),\n      headers: combineHeaders(this.config.headers(), options.headers),\n      body: args,\n      failedResponseHandler: this.failedResponseHandler,\n      successfulResponseHandler: createJsonResponseHandler(\n        OpenAICompatibleChatResponseSchema\n      ),\n      abortSignal: options.abortSignal,\n      fetch: this.config.fetch\n    });\n    const choice = responseBody.choices[0];\n    const content = [];\n    const text = choice.message.content;\n    if (text != null && text.length > 0) {\n      content.push({ type: \"text\", text });\n    }\n    const reasoning = (_a = choice.message.reasoning_content) != null ? _a : choice.message.reasoning;\n    if (reasoning != null && reasoning.length > 0) {\n      content.push({\n        type: \"reasoning\",\n        text: reasoning\n      });\n    }\n    if (choice.message.tool_calls != null) {\n      for (const toolCall of choice.message.tool_calls) {\n        content.push({\n          type: \"tool-call\",\n          toolCallId: (_b = toolCall.id) != null ? _b : generateId(),\n          toolName: toolCall.function.name,\n          input: toolCall.function.arguments\n        });\n      }\n    }\n    const providerMetadata = {\n      [this.providerOptionsName]: {},\n      ...await ((_d = (_c = this.config.metadataExtractor) == null ? void 0 : _c.extractMetadata) == null ? void 0 : _d.call(_c, {\n        parsedBody: rawResponse\n      }))\n    };\n    const completionTokenDetails = (_e = responseBody.usage) == null ? void 0 : _e.completion_tokens_details;\n    if ((completionTokenDetails == null ? void 0 : completionTokenDetails.accepted_prediction_tokens) != null) {\n      providerMetadata[this.providerOptionsName].acceptedPredictionTokens = completionTokenDetails == null ? void 0 : completionTokenDetails.accepted_prediction_tokens;\n    }\n    if ((completionTokenDetails == null ? void 0 : completionTokenDetails.rejected_prediction_tokens) != null) {\n      providerMetadata[this.providerOptionsName].rejectedPredictionTokens = completionTokenDetails == null ? void 0 : completionTokenDetails.rejected_prediction_tokens;\n    }\n    return {\n      content,\n      finishReason: mapOpenAICompatibleFinishReason(choice.finish_reason),\n      usage: {\n        inputTokens: (_g = (_f = responseBody.usage) == null ? void 0 : _f.prompt_tokens) != null ? _g : void 0,\n        outputTokens: (_i = (_h = responseBody.usage) == null ? void 0 : _h.completion_tokens) != null ? _i : void 0,\n        totalTokens: (_k = (_j = responseBody.usage) == null ? void 0 : _j.total_tokens) != null ? _k : void 0,\n        reasoningTokens: (_n = (_m = (_l = responseBody.usage) == null ? void 0 : _l.completion_tokens_details) == null ? void 0 : _m.reasoning_tokens) != null ? _n : void 0,\n        cachedInputTokens: (_q = (_p = (_o = responseBody.usage) == null ? void 0 : _o.prompt_tokens_details) == null ? void 0 : _p.cached_tokens) != null ? _q : void 0\n      },\n      providerMetadata,\n      request: { body },\n      response: {\n        ...getResponseMetadata(responseBody),\n        headers: responseHeaders,\n        body: rawResponse\n      },\n      warnings\n    };\n  }\n  async doStream(options) {\n    var _a;\n    const { args, warnings } = await this.getArgs({ ...options });\n    const body = {\n      ...args,\n      stream: true,\n      // only include stream_options when in strict compatibility mode:\n      stream_options: this.config.includeUsage ? { include_usage: true } : void 0\n    };\n    const metadataExtractor = (_a = this.config.metadataExtractor) == null ? void 0 : _a.createStreamExtractor();\n    const { responseHeaders, value: response } = await postJsonToApi({\n      url: this.config.url({\n        path: \"/chat/completions\",\n        modelId: this.modelId\n      }),\n      headers: combineHeaders(this.config.headers(), options.headers),\n      body,\n      failedResponseHandler: this.failedResponseHandler,\n      successfulResponseHandler: createEventSourceResponseHandler(\n        this.chunkSchema\n      ),\n      abortSignal: options.abortSignal,\n      fetch: this.config.fetch\n    });\n    const toolCalls = [];\n    let finishReason = \"unknown\";\n    const usage = {\n      completionTokens: void 0,\n      completionTokensDetails: {\n        reasoningTokens: void 0,\n        acceptedPredictionTokens: void 0,\n        rejectedPredictionTokens: void 0\n      },\n      promptTokens: void 0,\n      promptTokensDetails: {\n        cachedTokens: void 0\n      },\n      totalTokens: void 0\n    };\n    let isFirstChunk = true;\n    const providerOptionsName = this.providerOptionsName;\n    let isActiveReasoning = false;\n    let isActiveText = false;\n    return {\n      stream: response.pipeThrough(\n        new TransformStream({\n          start(controller) {\n            controller.enqueue({ type: \"stream-start\", warnings });\n          },\n          // TODO we lost type safety on Chunk, most likely due to the error schema. MUST FIX\n          transform(chunk, controller) {\n            var _a2, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m;\n            if (options.includeRawChunks) {\n              controller.enqueue({ type: \"raw\", rawValue: chunk.rawValue });\n            }\n            if (!chunk.success) {\n              finishReason = \"error\";\n              controller.enqueue({ type: \"error\", error: chunk.error });\n              return;\n            }\n            const value = chunk.value;\n            metadataExtractor == null ? void 0 : metadataExtractor.processChunk(chunk.rawValue);\n            if (\"error\" in value) {\n              finishReason = \"error\";\n              controller.enqueue({ type: \"error\", error: value.error.message });\n              return;\n            }\n            if (isFirstChunk) {\n              isFirstChunk = false;\n              controller.enqueue({\n                type: \"response-metadata\",\n                ...getResponseMetadata(value)\n              });\n            }\n            if (value.usage != null) {\n              const {\n                prompt_tokens,\n                completion_tokens,\n                total_tokens,\n                prompt_tokens_details,\n                completion_tokens_details\n              } = value.usage;\n              usage.promptTokens = prompt_tokens != null ? prompt_tokens : void 0;\n              usage.completionTokens = completion_tokens != null ? completion_tokens : void 0;\n              usage.totalTokens = total_tokens != null ? total_tokens : void 0;\n              if ((completion_tokens_details == null ? void 0 : completion_tokens_details.reasoning_tokens) != null) {\n                usage.completionTokensDetails.reasoningTokens = completion_tokens_details == null ? void 0 : completion_tokens_details.reasoning_tokens;\n              }\n              if ((completion_tokens_details == null ? void 0 : completion_tokens_details.accepted_prediction_tokens) != null) {\n                usage.completionTokensDetails.acceptedPredictionTokens = completion_tokens_details == null ? void 0 : completion_tokens_details.accepted_prediction_tokens;\n              }\n              if ((completion_tokens_details == null ? void 0 : completion_tokens_details.rejected_prediction_tokens) != null) {\n                usage.completionTokensDetails.rejectedPredictionTokens = completion_tokens_details == null ? void 0 : completion_tokens_details.rejected_prediction_tokens;\n              }\n              if ((prompt_tokens_details == null ? void 0 : prompt_tokens_details.cached_tokens) != null) {\n                usage.promptTokensDetails.cachedTokens = prompt_tokens_details == null ? void 0 : prompt_tokens_details.cached_tokens;\n              }\n            }\n            const choice = value.choices[0];\n            if ((choice == null ? void 0 : choice.finish_reason) != null) {\n              finishReason = mapOpenAICompatibleFinishReason(\n                choice.finish_reason\n              );\n            }\n            if ((choice == null ? void 0 : choice.delta) == null) {\n              return;\n            }\n            const delta = choice.delta;\n            const reasoningContent = (_a2 = delta.reasoning_content) != null ? _a2 : delta.reasoning;\n            if (reasoningContent) {\n              if (!isActiveReasoning) {\n                controller.enqueue({\n                  type: \"reasoning-start\",\n                  id: \"reasoning-0\"\n                });\n                isActiveReasoning = true;\n              }\n              controller.enqueue({\n                type: \"reasoning-delta\",\n                id: \"reasoning-0\",\n                delta: reasoningContent\n              });\n            }\n            if (delta.content) {\n              if (!isActiveText) {\n                controller.enqueue({ type: \"text-start\", id: \"txt-0\" });\n                isActiveText = true;\n              }\n              controller.enqueue({\n                type: \"text-delta\",\n                id: \"txt-0\",\n                delta: delta.content\n              });\n            }\n            if (delta.tool_calls != null) {\n              for (const toolCallDelta of delta.tool_calls) {\n                const index = toolCallDelta.index;\n                if (toolCalls[index] == null) {\n                  if (toolCallDelta.id == null) {\n                    throw new InvalidResponseDataError({\n                      data: toolCallDelta,\n                      message: `Expected 'id' to be a string.`\n                    });\n                  }\n                  if (((_b = toolCallDelta.function) == null ? void 0 : _b.name) == null) {\n                    throw new InvalidResponseDataError({\n                      data: toolCallDelta,\n                      message: `Expected 'function.name' to be a string.`\n                    });\n                  }\n                  controller.enqueue({\n                    type: \"tool-input-start\",\n                    id: toolCallDelta.id,\n                    toolName: toolCallDelta.function.name\n                  });\n                  toolCalls[index] = {\n                    id: toolCallDelta.id,\n                    type: \"function\",\n                    function: {\n                      name: toolCallDelta.function.name,\n                      arguments: (_c = toolCallDelta.function.arguments) != null ? _c : \"\"\n                    },\n                    hasFinished: false\n                  };\n                  const toolCall2 = toolCalls[index];\n                  if (((_d = toolCall2.function) == null ? void 0 : _d.name) != null && ((_e = toolCall2.function) == null ? void 0 : _e.arguments) != null) {\n                    if (toolCall2.function.arguments.length > 0) {\n                      controller.enqueue({\n                        type: \"tool-input-delta\",\n                        id: toolCall2.id,\n                        delta: toolCall2.function.arguments\n                      });\n                    }\n                    if (isParsableJson(toolCall2.function.arguments)) {\n                      controller.enqueue({\n                        type: \"tool-input-end\",\n                        id: toolCall2.id\n                      });\n                      controller.enqueue({\n                        type: \"tool-call\",\n                        toolCallId: (_f = toolCall2.id) != null ? _f : generateId(),\n                        toolName: toolCall2.function.name,\n                        input: toolCall2.function.arguments\n                      });\n                      toolCall2.hasFinished = true;\n                    }\n                  }\n                  continue;\n                }\n                const toolCall = toolCalls[index];\n                if (toolCall.hasFinished) {\n                  continue;\n                }\n                if (((_g = toolCallDelta.function) == null ? void 0 : _g.arguments) != null) {\n                  toolCall.function.arguments += (_i = (_h = toolCallDelta.function) == null ? void 0 : _h.arguments) != null ? _i : \"\";\n                }\n                controller.enqueue({\n                  type: \"tool-input-delta\",\n                  id: toolCall.id,\n                  delta: (_j = toolCallDelta.function.arguments) != null ? _j : \"\"\n                });\n                if (((_k = toolCall.function) == null ? void 0 : _k.name) != null && ((_l = toolCall.function) == null ? void 0 : _l.arguments) != null && isParsableJson(toolCall.function.arguments)) {\n                  controller.enqueue({\n                    type: \"tool-input-end\",\n                    id: toolCall.id\n                  });\n                  controller.enqueue({\n                    type: \"tool-call\",\n                    toolCallId: (_m = toolCall.id) != null ? _m : generateId(),\n                    toolName: toolCall.function.name,\n                    input: toolCall.function.arguments\n                  });\n                  toolCall.hasFinished = true;\n                }\n              }\n            }\n          },\n          flush(controller) {\n            var _a2, _b, _c, _d, _e, _f;\n            if (isActiveReasoning) {\n              controller.enqueue({ type: \"reasoning-end\", id: \"reasoning-0\" });\n            }\n            if (isActiveText) {\n              controller.enqueue({ type: \"text-end\", id: \"txt-0\" });\n            }\n            for (const toolCall of toolCalls.filter(\n              (toolCall2) => !toolCall2.hasFinished\n            )) {\n              controller.enqueue({\n                type: \"tool-input-end\",\n                id: toolCall.id\n              });\n              controller.enqueue({\n                type: \"tool-call\",\n                toolCallId: (_a2 = toolCall.id) != null ? _a2 : generateId(),\n                toolName: toolCall.function.name,\n                input: toolCall.function.arguments\n              });\n            }\n            const providerMetadata = {\n              [providerOptionsName]: {},\n              ...metadataExtractor == null ? void 0 : metadataExtractor.buildMetadata()\n            };\n            if (usage.completionTokensDetails.acceptedPredictionTokens != null) {\n              providerMetadata[providerOptionsName].acceptedPredictionTokens = usage.completionTokensDetails.acceptedPredictionTokens;\n            }\n            if (usage.completionTokensDetails.rejectedPredictionTokens != null) {\n              providerMetadata[providerOptionsName].rejectedPredictionTokens = usage.completionTokensDetails.rejectedPredictionTokens;\n            }\n            controller.enqueue({\n              type: \"finish\",\n              finishReason,\n              usage: {\n                inputTokens: (_b = usage.promptTokens) != null ? _b : void 0,\n                outputTokens: (_c = usage.completionTokens) != null ? _c : void 0,\n                totalTokens: (_d = usage.totalTokens) != null ? _d : void 0,\n                reasoningTokens: (_e = usage.completionTokensDetails.reasoningTokens) != null ? _e : void 0,\n                cachedInputTokens: (_f = usage.promptTokensDetails.cachedTokens) != null ? _f : void 0\n              },\n              providerMetadata\n            });\n          }\n        })\n      ),\n      request: { body },\n      response: { headers: responseHeaders }\n    };\n  }\n};\nvar openaiCompatibleTokenUsageSchema = z3.object({\n  prompt_tokens: z3.number().nullish(),\n  completion_tokens: z3.number().nullish(),\n  total_tokens: z3.number().nullish(),\n  prompt_tokens_details: z3.object({\n    cached_tokens: z3.number().nullish()\n  }).nullish(),\n  completion_tokens_details: z3.object({\n    reasoning_tokens: z3.number().nullish(),\n    accepted_prediction_tokens: z3.number().nullish(),\n    rejected_prediction_tokens: z3.number().nullish()\n  }).nullish()\n}).nullish();\nvar OpenAICompatibleChatResponseSchema = z3.object({\n  id: z3.string().nullish(),\n  created: z3.number().nullish(),\n  model: z3.string().nullish(),\n  choices: z3.array(\n    z3.object({\n      message: z3.object({\n        role: z3.literal(\"assistant\").nullish(),\n        content: z3.string().nullish(),\n        reasoning_content: z3.string().nullish(),\n        reasoning: z3.string().nullish(),\n        tool_calls: z3.array(\n          z3.object({\n            id: z3.string().nullish(),\n            function: z3.object({\n              name: z3.string(),\n              arguments: z3.string()\n            })\n          })\n        ).nullish()\n      }),\n      finish_reason: z3.string().nullish()\n    })\n  ),\n  usage: openaiCompatibleTokenUsageSchema\n});\nvar createOpenAICompatibleChatChunkSchema = (errorSchema) => z3.union([\n  z3.object({\n    id: z3.string().nullish(),\n    created: z3.number().nullish(),\n    model: z3.string().nullish(),\n    choices: z3.array(\n      z3.object({\n        delta: z3.object({\n          role: z3.enum([\"assistant\"]).nullish(),\n          content: z3.string().nullish(),\n          // Most openai-compatible models set `reasoning_content`, but some\n          // providers serving `gpt-oss` set `reasoning`. See #7866\n          reasoning_content: z3.string().nullish(),\n          reasoning: z3.string().nullish(),\n          tool_calls: z3.array(\n            z3.object({\n              index: z3.number(),\n              id: z3.string().nullish(),\n              function: z3.object({\n                name: z3.string().nullish(),\n                arguments: z3.string().nullish()\n              })\n            })\n          ).nullish()\n        }).nullish(),\n        finish_reason: z3.string().nullish()\n      })\n    ),\n    usage: openaiCompatibleTokenUsageSchema\n  }),\n  errorSchema\n]);\n\n// src/completion/openai-compatible-completion-language-model.ts\nimport {\n  combineHeaders as combineHeaders2,\n  createEventSourceResponseHandler as createEventSourceResponseHandler2,\n  createJsonErrorResponseHandler as createJsonErrorResponseHandler2,\n  createJsonResponseHandler as createJsonResponseHandler2,\n  parseProviderOptions as parseProviderOptions2,\n  postJsonToApi as postJsonToApi2\n} from \"@ai-sdk/provider-utils\";\nimport { z as z5 } from \"zod/v4\";\n\n// src/completion/convert-to-openai-compatible-completion-prompt.ts\nimport {\n  InvalidPromptError,\n  UnsupportedFunctionalityError as UnsupportedFunctionalityError3\n} from \"@ai-sdk/provider\";\nfunction convertToOpenAICompatibleCompletionPrompt({\n  prompt,\n  user = \"user\",\n  assistant = \"assistant\"\n}) {\n  let text = \"\";\n  if (prompt[0].role === \"system\") {\n    text += `${prompt[0].content}\n\n`;\n    prompt = prompt.slice(1);\n  }\n  for (const { role, content } of prompt) {\n    switch (role) {\n      case \"system\": {\n        throw new InvalidPromptError({\n          message: \"Unexpected system message in prompt: ${content}\",\n          prompt\n        });\n      }\n      case \"user\": {\n        const userMessage = content.map((part) => {\n          switch (part.type) {\n            case \"text\": {\n              return part.text;\n            }\n          }\n        }).filter(Boolean).join(\"\");\n        text += `${user}:\n${userMessage}\n\n`;\n        break;\n      }\n      case \"assistant\": {\n        const assistantMessage = content.map((part) => {\n          switch (part.type) {\n            case \"text\": {\n              return part.text;\n            }\n            case \"tool-call\": {\n              throw new UnsupportedFunctionalityError3({\n                functionality: \"tool-call messages\"\n              });\n            }\n          }\n        }).join(\"\");\n        text += `${assistant}:\n${assistantMessage}\n\n`;\n        break;\n      }\n      case \"tool\": {\n        throw new UnsupportedFunctionalityError3({\n          functionality: \"tool messages\"\n        });\n      }\n      default: {\n        const _exhaustiveCheck = role;\n        throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n      }\n    }\n  }\n  text += `${assistant}:\n`;\n  return {\n    prompt: text,\n    stopSequences: [`\n${user}:`]\n  };\n}\n\n// src/completion/get-response-metadata.ts\nfunction getResponseMetadata2({\n  id,\n  model,\n  created\n}) {\n  return {\n    id: id != null ? id : void 0,\n    modelId: model != null ? model : void 0,\n    timestamp: created != null ? new Date(created * 1e3) : void 0\n  };\n}\n\n// src/completion/map-openai-compatible-finish-reason.ts\nfunction mapOpenAICompatibleFinishReason2(finishReason) {\n  switch (finishReason) {\n    case \"stop\":\n      return \"stop\";\n    case \"length\":\n      return \"length\";\n    case \"content_filter\":\n      return \"content-filter\";\n    case \"function_call\":\n    case \"tool_calls\":\n      return \"tool-calls\";\n    default:\n      return \"unknown\";\n  }\n}\n\n// src/completion/openai-compatible-completion-options.ts\nimport { z as z4 } from \"zod/v4\";\nvar openaiCompatibleCompletionProviderOptions = z4.object({\n  /**\n   * Echo back the prompt in addition to the completion.\n   */\n  echo: z4.boolean().optional(),\n  /**\n   * Modify the likelihood of specified tokens appearing in the completion.\n   *\n   * Accepts a JSON object that maps tokens (specified by their token ID in\n   * the GPT tokenizer) to an associated bias value from -100 to 100.\n   */\n  logitBias: z4.record(z4.string(), z4.number()).optional(),\n  /**\n   * The suffix that comes after a completion of inserted text.\n   */\n  suffix: z4.string().optional(),\n  /**\n   * A unique identifier representing your end-user, which can help providers to\n   * monitor and detect abuse.\n   */\n  user: z4.string().optional()\n});\n\n// src/completion/openai-compatible-completion-language-model.ts\nvar OpenAICompatibleCompletionLanguageModel = class {\n  // type inferred via constructor\n  constructor(modelId, config) {\n    this.specificationVersion = \"v2\";\n    var _a;\n    this.modelId = modelId;\n    this.config = config;\n    const errorStructure = (_a = config.errorStructure) != null ? _a : defaultOpenAICompatibleErrorStructure;\n    this.chunkSchema = createOpenAICompatibleCompletionChunkSchema(\n      errorStructure.errorSchema\n    );\n    this.failedResponseHandler = createJsonErrorResponseHandler2(errorStructure);\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  get providerOptionsName() {\n    return this.config.provider.split(\".\")[0].trim();\n  }\n  get supportedUrls() {\n    var _a, _b, _c;\n    return (_c = (_b = (_a = this.config).supportedUrls) == null ? void 0 : _b.call(_a)) != null ? _c : {};\n  }\n  async getArgs({\n    prompt,\n    maxOutputTokens,\n    temperature,\n    topP,\n    topK,\n    frequencyPenalty,\n    presencePenalty,\n    stopSequences: userStopSequences,\n    responseFormat,\n    seed,\n    providerOptions,\n    tools,\n    toolChoice\n  }) {\n    var _a;\n    const warnings = [];\n    const completionOptions = (_a = await parseProviderOptions2({\n      provider: this.providerOptionsName,\n      providerOptions,\n      schema: openaiCompatibleCompletionProviderOptions\n    })) != null ? _a : {};\n    if (topK != null) {\n      warnings.push({ type: \"unsupported-setting\", setting: \"topK\" });\n    }\n    if (tools == null ? void 0 : tools.length) {\n      warnings.push({ type: \"unsupported-setting\", setting: \"tools\" });\n    }\n    if (toolChoice != null) {\n      warnings.push({ type: \"unsupported-setting\", setting: \"toolChoice\" });\n    }\n    if (responseFormat != null && responseFormat.type !== \"text\") {\n      warnings.push({\n        type: \"unsupported-setting\",\n        setting: \"responseFormat\",\n        details: \"JSON response format is not supported.\"\n      });\n    }\n    const { prompt: completionPrompt, stopSequences } = convertToOpenAICompatibleCompletionPrompt({ prompt });\n    const stop = [...stopSequences != null ? stopSequences : [], ...userStopSequences != null ? userStopSequences : []];\n    return {\n      args: {\n        // model id:\n        model: this.modelId,\n        // model specific settings:\n        echo: completionOptions.echo,\n        logit_bias: completionOptions.logitBias,\n        suffix: completionOptions.suffix,\n        user: completionOptions.user,\n        // standardized settings:\n        max_tokens: maxOutputTokens,\n        temperature,\n        top_p: topP,\n        frequency_penalty: frequencyPenalty,\n        presence_penalty: presencePenalty,\n        seed,\n        ...providerOptions == null ? void 0 : providerOptions[this.providerOptionsName],\n        // prompt:\n        prompt: completionPrompt,\n        // stop sequences:\n        stop: stop.length > 0 ? stop : void 0\n      },\n      warnings\n    };\n  }\n  async doGenerate(options) {\n    var _a, _b, _c, _d, _e, _f;\n    const { args, warnings } = await this.getArgs(options);\n    const {\n      responseHeaders,\n      value: response,\n      rawValue: rawResponse\n    } = await postJsonToApi2({\n      url: this.config.url({\n        path: \"/completions\",\n        modelId: this.modelId\n      }),\n      headers: combineHeaders2(this.config.headers(), options.headers),\n      body: args,\n      failedResponseHandler: this.failedResponseHandler,\n      successfulResponseHandler: createJsonResponseHandler2(\n        openaiCompatibleCompletionResponseSchema\n      ),\n      abortSignal: options.abortSignal,\n      fetch: this.config.fetch\n    });\n    const choice = response.choices[0];\n    const content = [];\n    if (choice.text != null && choice.text.length > 0) {\n      content.push({ type: \"text\", text: choice.text });\n    }\n    return {\n      content,\n      usage: {\n        inputTokens: (_b = (_a = response.usage) == null ? void 0 : _a.prompt_tokens) != null ? _b : void 0,\n        outputTokens: (_d = (_c = response.usage) == null ? void 0 : _c.completion_tokens) != null ? _d : void 0,\n        totalTokens: (_f = (_e = response.usage) == null ? void 0 : _e.total_tokens) != null ? _f : void 0\n      },\n      finishReason: mapOpenAICompatibleFinishReason2(choice.finish_reason),\n      request: { body: args },\n      response: {\n        ...getResponseMetadata2(response),\n        headers: responseHeaders,\n        body: rawResponse\n      },\n      warnings\n    };\n  }\n  async doStream(options) {\n    const { args, warnings } = await this.getArgs(options);\n    const body = {\n      ...args,\n      stream: true,\n      // only include stream_options when in strict compatibility mode:\n      stream_options: this.config.includeUsage ? { include_usage: true } : void 0\n    };\n    const { responseHeaders, value: response } = await postJsonToApi2({\n      url: this.config.url({\n        path: \"/completions\",\n        modelId: this.modelId\n      }),\n      headers: combineHeaders2(this.config.headers(), options.headers),\n      body,\n      failedResponseHandler: this.failedResponseHandler,\n      successfulResponseHandler: createEventSourceResponseHandler2(\n        this.chunkSchema\n      ),\n      abortSignal: options.abortSignal,\n      fetch: this.config.fetch\n    });\n    let finishReason = \"unknown\";\n    const usage = {\n      inputTokens: void 0,\n      outputTokens: void 0,\n      totalTokens: void 0\n    };\n    let isFirstChunk = true;\n    return {\n      stream: response.pipeThrough(\n        new TransformStream({\n          start(controller) {\n            controller.enqueue({ type: \"stream-start\", warnings });\n          },\n          transform(chunk, controller) {\n            var _a, _b, _c;\n            if (options.includeRawChunks) {\n              controller.enqueue({ type: \"raw\", rawValue: chunk.rawValue });\n            }\n            if (!chunk.success) {\n              finishReason = \"error\";\n              controller.enqueue({ type: \"error\", error: chunk.error });\n              return;\n            }\n            const value = chunk.value;\n            if (\"error\" in value) {\n              finishReason = \"error\";\n              controller.enqueue({ type: \"error\", error: value.error });\n              return;\n            }\n            if (isFirstChunk) {\n              isFirstChunk = false;\n              controller.enqueue({\n                type: \"response-metadata\",\n                ...getResponseMetadata2(value)\n              });\n              controller.enqueue({\n                type: \"text-start\",\n                id: \"0\"\n              });\n            }\n            if (value.usage != null) {\n              usage.inputTokens = (_a = value.usage.prompt_tokens) != null ? _a : void 0;\n              usage.outputTokens = (_b = value.usage.completion_tokens) != null ? _b : void 0;\n              usage.totalTokens = (_c = value.usage.total_tokens) != null ? _c : void 0;\n            }\n            const choice = value.choices[0];\n            if ((choice == null ? void 0 : choice.finish_reason) != null) {\n              finishReason = mapOpenAICompatibleFinishReason2(\n                choice.finish_reason\n              );\n            }\n            if ((choice == null ? void 0 : choice.text) != null) {\n              controller.enqueue({\n                type: \"text-delta\",\n                id: \"0\",\n                delta: choice.text\n              });\n            }\n          },\n          flush(controller) {\n            if (!isFirstChunk) {\n              controller.enqueue({ type: \"text-end\", id: \"0\" });\n            }\n            controller.enqueue({\n              type: \"finish\",\n              finishReason,\n              usage\n            });\n          }\n        })\n      ),\n      request: { body },\n      response: { headers: responseHeaders }\n    };\n  }\n};\nvar usageSchema = z5.object({\n  prompt_tokens: z5.number(),\n  completion_tokens: z5.number(),\n  total_tokens: z5.number()\n});\nvar openaiCompatibleCompletionResponseSchema = z5.object({\n  id: z5.string().nullish(),\n  created: z5.number().nullish(),\n  model: z5.string().nullish(),\n  choices: z5.array(\n    z5.object({\n      text: z5.string(),\n      finish_reason: z5.string()\n    })\n  ),\n  usage: usageSchema.nullish()\n});\nvar createOpenAICompatibleCompletionChunkSchema = (errorSchema) => z5.union([\n  z5.object({\n    id: z5.string().nullish(),\n    created: z5.number().nullish(),\n    model: z5.string().nullish(),\n    choices: z5.array(\n      z5.object({\n        text: z5.string(),\n        finish_reason: z5.string().nullish(),\n        index: z5.number()\n      })\n    ),\n    usage: usageSchema.nullish()\n  }),\n  errorSchema\n]);\n\n// src/embedding/openai-compatible-embedding-model.ts\nimport {\n  TooManyEmbeddingValuesForCallError\n} from \"@ai-sdk/provider\";\nimport {\n  combineHeaders as combineHeaders3,\n  createJsonErrorResponseHandler as createJsonErrorResponseHandler3,\n  createJsonResponseHandler as createJsonResponseHandler3,\n  parseProviderOptions as parseProviderOptions3,\n  postJsonToApi as postJsonToApi3\n} from \"@ai-sdk/provider-utils\";\nimport { z as z7 } from \"zod/v4\";\n\n// src/embedding/openai-compatible-embedding-options.ts\nimport { z as z6 } from \"zod/v4\";\nvar openaiCompatibleEmbeddingProviderOptions = z6.object({\n  /**\n   * The number of dimensions the resulting output embeddings should have.\n   * Only supported in text-embedding-3 and later models.\n   */\n  dimensions: z6.number().optional(),\n  /**\n   * A unique identifier representing your end-user, which can help providers to\n   * monitor and detect abuse.\n   */\n  user: z6.string().optional()\n});\n\n// src/embedding/openai-compatible-embedding-model.ts\nvar OpenAICompatibleEmbeddingModel = class {\n  constructor(modelId, config) {\n    this.specificationVersion = \"v2\";\n    this.modelId = modelId;\n    this.config = config;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  get maxEmbeddingsPerCall() {\n    var _a;\n    return (_a = this.config.maxEmbeddingsPerCall) != null ? _a : 2048;\n  }\n  get supportsParallelCalls() {\n    var _a;\n    return (_a = this.config.supportsParallelCalls) != null ? _a : true;\n  }\n  get providerOptionsName() {\n    return this.config.provider.split(\".\")[0].trim();\n  }\n  async doEmbed({\n    values,\n    headers,\n    abortSignal,\n    providerOptions\n  }) {\n    var _a, _b, _c;\n    const compatibleOptions = Object.assign(\n      (_a = await parseProviderOptions3({\n        provider: \"openai-compatible\",\n        providerOptions,\n        schema: openaiCompatibleEmbeddingProviderOptions\n      })) != null ? _a : {},\n      (_b = await parseProviderOptions3({\n        provider: this.providerOptionsName,\n        providerOptions,\n        schema: openaiCompatibleEmbeddingProviderOptions\n      })) != null ? _b : {}\n    );\n    if (values.length > this.maxEmbeddingsPerCall) {\n      throw new TooManyEmbeddingValuesForCallError({\n        provider: this.provider,\n        modelId: this.modelId,\n        maxEmbeddingsPerCall: this.maxEmbeddingsPerCall,\n        values\n      });\n    }\n    const {\n      responseHeaders,\n      value: response,\n      rawValue\n    } = await postJsonToApi3({\n      url: this.config.url({\n        path: \"/embeddings\",\n        modelId: this.modelId\n      }),\n      headers: combineHeaders3(this.config.headers(), headers),\n      body: {\n        model: this.modelId,\n        input: values,\n        encoding_format: \"float\",\n        dimensions: compatibleOptions.dimensions,\n        user: compatibleOptions.user\n      },\n      failedResponseHandler: createJsonErrorResponseHandler3(\n        (_c = this.config.errorStructure) != null ? _c : defaultOpenAICompatibleErrorStructure\n      ),\n      successfulResponseHandler: createJsonResponseHandler3(\n        openaiTextEmbeddingResponseSchema\n      ),\n      abortSignal,\n      fetch: this.config.fetch\n    });\n    return {\n      embeddings: response.data.map((item) => item.embedding),\n      usage: response.usage ? { tokens: response.usage.prompt_tokens } : void 0,\n      providerMetadata: response.providerMetadata,\n      response: { headers: responseHeaders, body: rawValue }\n    };\n  }\n};\nvar openaiTextEmbeddingResponseSchema = z7.object({\n  data: z7.array(z7.object({ embedding: z7.array(z7.number()) })),\n  usage: z7.object({ prompt_tokens: z7.number() }).nullish(),\n  providerMetadata: z7.record(z7.string(), z7.record(z7.string(), z7.any())).optional()\n});\n\n// src/image/openai-compatible-image-model.ts\nimport {\n  combineHeaders as combineHeaders4,\n  createJsonErrorResponseHandler as createJsonErrorResponseHandler4,\n  createJsonResponseHandler as createJsonResponseHandler4,\n  postJsonToApi as postJsonToApi4\n} from \"@ai-sdk/provider-utils\";\nimport { z as z8 } from \"zod/v4\";\nvar OpenAICompatibleImageModel = class {\n  constructor(modelId, config) {\n    this.modelId = modelId;\n    this.config = config;\n    this.specificationVersion = \"v2\";\n    this.maxImagesPerCall = 10;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  async doGenerate({\n    prompt,\n    n,\n    size,\n    aspectRatio,\n    seed,\n    providerOptions,\n    headers,\n    abortSignal\n  }) {\n    var _a, _b, _c, _d, _e;\n    const warnings = [];\n    if (aspectRatio != null) {\n      warnings.push({\n        type: \"unsupported-setting\",\n        setting: \"aspectRatio\",\n        details: \"This model does not support aspect ratio. Use `size` instead.\"\n      });\n    }\n    if (seed != null) {\n      warnings.push({ type: \"unsupported-setting\", setting: \"seed\" });\n    }\n    const currentDate = (_c = (_b = (_a = this.config._internal) == null ? void 0 : _a.currentDate) == null ? void 0 : _b.call(_a)) != null ? _c : /* @__PURE__ */ new Date();\n    const { value: response, responseHeaders } = await postJsonToApi4({\n      url: this.config.url({\n        path: \"/images/generations\",\n        modelId: this.modelId\n      }),\n      headers: combineHeaders4(this.config.headers(), headers),\n      body: {\n        model: this.modelId,\n        prompt,\n        n,\n        size,\n        ...(_d = providerOptions.openai) != null ? _d : {},\n        response_format: \"b64_json\"\n      },\n      failedResponseHandler: createJsonErrorResponseHandler4(\n        (_e = this.config.errorStructure) != null ? _e : defaultOpenAICompatibleErrorStructure\n      ),\n      successfulResponseHandler: createJsonResponseHandler4(\n        openaiCompatibleImageResponseSchema\n      ),\n      abortSignal,\n      fetch: this.config.fetch\n    });\n    return {\n      images: response.data.map((item) => item.b64_json),\n      warnings,\n      response: {\n        timestamp: currentDate,\n        modelId: this.modelId,\n        headers: responseHeaders\n      }\n    };\n  }\n};\nvar openaiCompatibleImageResponseSchema = z8.object({\n  data: z8.array(z8.object({ b64_json: z8.string() }))\n});\n\n// src/openai-compatible-provider.ts\nimport {\n  withoutTrailingSlash,\n  withUserAgentSuffix\n} from \"@ai-sdk/provider-utils\";\n\n// src/version.ts\nvar VERSION = true ? \"1.0.25\" : \"0.0.0-test\";\n\n// src/openai-compatible-provider.ts\nfunction createOpenAICompatible(options) {\n  const baseURL = withoutTrailingSlash(options.baseURL);\n  const providerName = options.name;\n  const headers = {\n    ...options.apiKey && { Authorization: `Bearer ${options.apiKey}` },\n    ...options.headers\n  };\n  const getHeaders = () => withUserAgentSuffix(headers, `ai-sdk/openai-compatible/${VERSION}`);\n  const getCommonModelConfig = (modelType) => ({\n    provider: `${providerName}.${modelType}`,\n    url: ({ path }) => {\n      const url = new URL(`${baseURL}${path}`);\n      if (options.queryParams) {\n        url.search = new URLSearchParams(options.queryParams).toString();\n      }\n      return url.toString();\n    },\n    headers: getHeaders,\n    fetch: options.fetch\n  });\n  const createLanguageModel = (modelId) => createChatModel(modelId);\n  const createChatModel = (modelId) => new OpenAICompatibleChatLanguageModel(modelId, {\n    ...getCommonModelConfig(\"chat\"),\n    includeUsage: options.includeUsage,\n    supportsStructuredOutputs: options.supportsStructuredOutputs\n  });\n  const createCompletionModel = (modelId) => new OpenAICompatibleCompletionLanguageModel(modelId, {\n    ...getCommonModelConfig(\"completion\"),\n    includeUsage: options.includeUsage\n  });\n  const createEmbeddingModel = (modelId) => new OpenAICompatibleEmbeddingModel(modelId, {\n    ...getCommonModelConfig(\"embedding\")\n  });\n  const createImageModel = (modelId) => new OpenAICompatibleImageModel(modelId, getCommonModelConfig(\"image\"));\n  const provider = (modelId) => createLanguageModel(modelId);\n  provider.languageModel = createLanguageModel;\n  provider.chatModel = createChatModel;\n  provider.completionModel = createCompletionModel;\n  provider.textEmbeddingModel = createEmbeddingModel;\n  provider.imageModel = createImageModel;\n  return provider;\n}\nexport {\n  OpenAICompatibleChatLanguageModel,\n  OpenAICompatibleCompletionLanguageModel,\n  OpenAICompatibleEmbeddingModel,\n  OpenAICompatibleImageModel,\n  VERSION,\n  createOpenAICompatible\n};\n//# sourceMappingURL=index.mjs.map","import { AppRouteRouteModule } from \"next/dist/esm/server/route-modules/app-route/module.compiled\";\nimport { RouteKind } from \"next/dist/esm/server/route-kind\";\nimport { patchFetch as _patchFetch } from \"next/dist/esm/server/lib/patch-fetch\";\nimport { addRequestMeta, getRequestMeta } from \"next/dist/esm/server/request-meta\";\nimport { getTracer, SpanKind } from \"next/dist/esm/server/lib/trace/tracer\";\nimport { setReferenceManifestsSingleton } from \"next/dist/esm/server/app-render/encryption-utils\";\nimport { createServerModuleMap } from \"next/dist/esm/server/app-render/action-utils\";\nimport { normalizeAppPath } from \"next/dist/esm/shared/lib/router/utils/app-paths\";\nimport { NodeNextRequest, NodeNextResponse } from \"next/dist/esm/server/base-http/node\";\nimport { NextRequestAdapter, signalFromNodeResponse } from \"next/dist/esm/server/web/spec-extension/adapters/next-request\";\nimport { BaseServerSpan } from \"next/dist/esm/server/lib/trace/constants\";\nimport { getRevalidateReason } from \"next/dist/esm/server/instrumentation/utils\";\nimport { sendResponse } from \"next/dist/esm/server/send-response\";\nimport { fromNodeOutgoingHttpHeaders, toNodeOutgoingHttpHeaders } from \"next/dist/esm/server/web/utils\";\nimport { getCacheControlHeader } from \"next/dist/esm/server/lib/cache-control\";\nimport { INFINITE_CACHE, NEXT_CACHE_TAGS_HEADER } from \"next/dist/esm/lib/constants\";\nimport { NoFallbackError } from \"next/dist/esm/shared/lib/no-fallback-error.external\";\nimport { CachedRouteKind } from \"next/dist/esm/server/response-cache\";\nimport * as userland from \"INNER_APP_ROUTE\";\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new AppRouteRouteModule({\n    definition: {\n        kind: RouteKind.APP_ROUTE,\n        page: \"/api/chat/route\",\n        pathname: \"/api/chat\",\n        filename: \"route\",\n        bundlePath: \"\"\n    },\n    distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n    relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n    resolvedPagePath: \"[project]/src/app/api/chat/route.ts\",\n    nextConfigOutput,\n    userland\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return _patchFetch({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\nexport { routeModule, workAsyncStorage, workUnitAsyncStorage, serverHooks, patchFetch,  };\nexport async function handler(req, res, ctx) {\n    if (routeModule.isDev) {\n        addRequestMeta(req, 'devRequestTimingInternalsEnd', process.hrtime.bigint());\n    }\n    let srcPage = \"/api/chat/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (process.env.TURBOPACK) {\n        srcPage = srcPage.replace(/\\/index$/, '') || '/';\n    } else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = process.env.__NEXT_MULTI_ZONE_DRAFT_MODE;\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, parsedUrl, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname, clientReferenceManifest, serverActionsManifest } = prepareResult;\n    const normalizedSrcPage = normalizeAppPath(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    const render404 = async ()=>{\n        // TODO: should route-module itself handle rendering the 404\n        if (routerServerContext == null ? void 0 : routerServerContext.render404) {\n            await routerServerContext.render404(req, res, parsedUrl, false);\n        } else {\n            res.end('This page could not be found');\n        }\n        return null;\n    };\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                if (nextConfig.experimental.adapterPath) {\n                    return await render404();\n                }\n                throw new NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isStaticGeneration = isIsr && !supportsDynamicResponse;\n    // Before rendering (which initializes component tree modules), we have to\n    // set the reference manifests to our global store so Server Action's\n    // encryption util can access to them at the top level of the page module.\n    if (serverActionsManifest && clientReferenceManifest) {\n        setReferenceManifestsSingleton({\n            page: srcPage,\n            clientReferenceManifest,\n            serverActionsManifest,\n            serverModuleMap: createServerModuleMap({\n                serverActionsManifest\n            })\n        });\n    }\n    const method = req.method || 'GET';\n    const tracer = getTracer();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            cacheComponents: Boolean(nextConfig.cacheComponents),\n            supportsDynamicResponse,\n            incrementalCache: getRequestMeta(req, 'incrementalCache'),\n            cacheLifeProfiles: nextConfig.cacheLife,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new NodeNextRequest(req);\n    const nodeNextRes = new NodeNextResponse(res);\n    const nextReq = NextRequestAdapter.fromNodeNextRequest(nodeNextReq, signalFromNodeResponse(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${srcPage}`);\n                }\n            });\n        };\n        const isMinimalMode = Boolean(process.env.MINIMAL_MODE || getRequestMeta(req, 'minimalMode'));\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!isMinimalMode && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = toNodeOutgoingHttpHeaders(response.headers);\n                        if (cacheTags) {\n                            headers[NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await sendResponse(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: getRevalidateReason({\n                                isStaticGeneration,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil,\n                isMinimalMode\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!isMinimalMode) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = fromNodeOutgoingHttpHeaders(cacheEntry.value.headers);\n            if (!(isMinimalMode && isIsr)) {\n                headers.delete(NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', getCacheControlHeader(cacheEntry.cacheControl));\n            }\n            await sendResponse(nodeNextReq, nodeNextRes, // @ts-expect-error - Argument of type 'Buffer<ArrayBufferLike>' is not assignable to parameter of type 'BodyInit | null | undefined'.\n            new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${srcPage}`,\n                    kind: SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        if (!(err instanceof NoFallbackError)) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: getRevalidateReason({\n                    isStaticGeneration,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await sendResponse(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map\n","import { createOpenAICompatible } from \"@ai-sdk/openai-compatible\";\r\nimport { convertToModelMessages, streamText, type UIMessage } from \"ai\";\r\nimport { NextResponse } from \"next/server\";\r\n\r\ndeclare global {\r\n  // eslint-disable-next-line no-var\r\n  var __nimClient: ReturnType<typeof createOpenAICompatible> | undefined;\r\n  // eslint-disable-next-line no-var\r\n  var __nimApiKey: string | undefined;\r\n}\r\n\r\nconst getNimClient = () => {\r\n  const apiKey = process.env.NIM_API_KEY;\r\n  if (!apiKey) {\r\n    return null;\r\n  }\r\n\r\n  if (globalThis.__nimClient && globalThis.__nimApiKey === apiKey) {\r\n    return globalThis.__nimClient;\r\n  }\r\n\r\n  const client = createOpenAICompatible({\r\n    name: \"nim\",\r\n    baseURL: \"https://integrate.api.nvidia.com/v1\",\r\n    headers: {\r\n      Authorization: `Bearer ${apiKey}`,\r\n    },\r\n  });\r\n\r\n  globalThis.__nimClient = client;\r\n  globalThis.__nimApiKey = apiKey;\r\n  return client;\r\n};\r\n\r\nexport async function POST(req: Request) {\r\n  const nim = getNimClient();\r\n\r\n  if (!nim) {\r\n    return NextResponse.json({ error: \"NIM_API_KEY is not configured\" }, { status: 500 });\r\n  }\r\n\r\n  const { messages }: { messages: UIMessage[] } = await req.json();\r\n\r\n  const result = await streamText({\r\n    model: nim.chatModel(\"moonshotai/kimi-k2-instruct-0905\"),\r\n    system: \"You are a helpful assistant.\",\r\n    messages: convertToModelMessages(messages),\r\n  });\r\n\r\n  return result.toUIMessageStreamResponse();\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[0,1]}